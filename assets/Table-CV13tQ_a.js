import{r as o,I as Qn,J as Ze,bD as Dn,bB as In,a7 as ee,bn as Zn,ac as Ke,cm as er,dg as tr,ae as mt,P as De,af as Nn,ah as nr,df as Tt,cn as rr,aj as ir,K as ar,L as or,aF as kt,M as ce,cy as sr,O as lr,ao as cr,bp as ur,bq as dr,bs as fr,bt as gr,cw as ln,aO as hr,H as ie,bK as Le,j as T,c as pr,b as vr,k as mr,t as br,dz as yr,as as cn}from"./index-D1twGZ3Z.js";import{T as dt,af as Sr,I as wr,z as xr,B as Er}from"./index-BddFcSMz.js";import{F as _t}from"./Table-D66CHkwD.js";import{l as Cr,t as Rr,c as Dr,i as Ir,h as $n,m as Nr,n as $r,o as Mr,q as Or,r as Ar,s as Tr,v as kr,S as Lr}from"./index-3t2dR2Qx.js";import{I as jr}from"./index-ABG0vLxO.js";import{R as Br,S as Lt}from"./index-Djmlvon0.js";import{d as zr,u as Fr,a as un,b as Pr}from"./useVariants-FsczrwmZ.js";import{F as Vt}from"./index-CdlybJdo.js";import{P as dn}from"./index-ClEi16nY.js";var _r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M890.5 755.3L537.9 269.2c-12.8-17.6-39-17.6-51.7 0L133.5 755.3A8 8 0 00140 768h75c5.1 0 9.9-2.5 12.9-6.6L512 369.8l284.1 391.6c3 4.1 7.8 6.6 12.9 6.6h75c6.5 0 10.3-7.4 6.5-12.7z"}}]},name:"up",theme:"outlined"},Vr=function(t,n){return o.createElement(Qn,Ze({},t,{ref:n,icon:_r}))},Wr=o.forwardRef(Vr);function Wt(){return typeof BigInt=="function"}function Mn(e){return!e&&e!==0&&!Number.isNaN(e)||!String(e).trim()}function ke(e){var t=e.trim(),n=t.startsWith("-");n&&(t=t.slice(1)),t=t.replace(/(\.\d*[^0])0*$/,"$1").replace(/\.0*$/,"").replace(/^0+/,""),t.startsWith(".")&&(t="0".concat(t));var r=t||"0",i=r.split("."),a=i[0]||"0",l=i[1]||"0";a==="0"&&l==="0"&&(n=!1);var s=n?"-":"";return{negative:n,negativeStr:s,trimStr:r,integerStr:a,decimalStr:l,fullStr:"".concat(s).concat(r)}}function Kt(e){var t=String(e);return!Number.isNaN(Number(t))&&t.includes("e")}function Te(e){var t=String(e);if(Kt(e)){var n=Number(t.slice(t.indexOf("e-")+2)),r=t.match(/\.(\d+)/);return r!=null&&r[1]&&(n+=r[1].length),n}return t.includes(".")&&Yt(t)?t.length-t.indexOf(".")-1:0}function xt(e){var t=String(e);if(Kt(e)){if(e>Number.MAX_SAFE_INTEGER)return String(Wt()?BigInt(e).toString():Number.MAX_SAFE_INTEGER);if(e<Number.MIN_SAFE_INTEGER)return String(Wt()?BigInt(e).toString():Number.MIN_SAFE_INTEGER);t=e.toFixed(Te(t))}return ke(t).fullStr}function Yt(e){return typeof e=="number"?!Number.isNaN(e):e?/^\s*-?\d+(\.\d+)?\s*$/.test(e)||/^\s*-?\d+\.\s*$/.test(e)||/^\s*-?\.\d+\s*$/.test(e):!1}var Hr=function(){function e(t){if(In(this,e),ee(this,"origin",""),ee(this,"negative",void 0),ee(this,"integer",void 0),ee(this,"decimal",void 0),ee(this,"decimalLen",void 0),ee(this,"empty",void 0),ee(this,"nan",void 0),Mn(t)){this.empty=!0;return}if(this.origin=String(t),t==="-"||Number.isNaN(t)){this.nan=!0;return}var n=t;if(Kt(n)&&(n=Number(n)),n=typeof n=="string"?n:xt(n),Yt(n)){var r=ke(n);this.negative=r.negative;var i=r.trimStr.split(".");this.integer=BigInt(i[0]);var a=i[1]||"0";this.decimal=BigInt(a),this.decimalLen=a.length}else this.nan=!0}return Dn(e,[{key:"getMark",value:function(){return this.negative?"-":""}},{key:"getIntegerStr",value:function(){return this.integer.toString()}},{key:"getDecimalStr",value:function(){return this.decimal.toString().padStart(this.decimalLen,"0")}},{key:"alignDecimal",value:function(n){var r="".concat(this.getMark()).concat(this.getIntegerStr()).concat(this.getDecimalStr().padEnd(n,"0"));return BigInt(r)}},{key:"negate",value:function(){var n=new e(this.toString());return n.negative=!n.negative,n}},{key:"cal",value:function(n,r,i){var a=Math.max(this.getDecimalStr().length,n.getDecimalStr().length),l=this.alignDecimal(a),s=n.alignDecimal(a),c=r(l,s).toString(),u=i(a),d=ke(c),f=d.negativeStr,h=d.trimStr,g="".concat(f).concat(h.padStart(u+1,"0"));return new e("".concat(g.slice(0,-u),".").concat(g.slice(-u)))}},{key:"add",value:function(n){if(this.isInvalidate())return new e(n);var r=new e(n);return r.isInvalidate()?this:this.cal(r,function(i,a){return i+a},function(i){return i})}},{key:"multi",value:function(n){var r=new e(n);return this.isInvalidate()||r.isInvalidate()?new e(NaN):this.cal(r,function(i,a){return i*a},function(i){return i*2})}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return this.nan}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(n){return this.toString()===(n==null?void 0:n.toString())}},{key:"lessEquals",value:function(n){return this.add(n.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.isNaN()?NaN:Number(this.toString())}},{key:"toString",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return n?this.isInvalidate()?"":ke("".concat(this.getMark()).concat(this.getIntegerStr(),".").concat(this.getDecimalStr())).fullStr:this.origin}}]),e}(),Ur=function(){function e(t){if(In(this,e),ee(this,"origin",""),ee(this,"number",void 0),ee(this,"empty",void 0),Mn(t)){this.empty=!0;return}this.origin=String(t),this.number=Number(t)}return Dn(e,[{key:"negate",value:function(){return new e(-this.toNumber())}},{key:"add",value:function(n){if(this.isInvalidate())return new e(n);var r=Number(n);if(Number.isNaN(r))return this;var i=this.number+r;if(i>Number.MAX_SAFE_INTEGER)return new e(Number.MAX_SAFE_INTEGER);if(i<Number.MIN_SAFE_INTEGER)return new e(Number.MIN_SAFE_INTEGER);var a=Math.max(Te(this.number),Te(r));return new e(i.toFixed(a))}},{key:"multi",value:function(n){var r=Number(n);if(this.isInvalidate()||Number.isNaN(r))return new e(NaN);var i=this.number*r;if(i>Number.MAX_SAFE_INTEGER)return new e(Number.MAX_SAFE_INTEGER);if(i<Number.MIN_SAFE_INTEGER)return new e(Number.MIN_SAFE_INTEGER);var a=Math.max(Te(this.number),Te(r));return new e(i.toFixed(a))}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return Number.isNaN(this.number)}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(n){return this.toNumber()===(n==null?void 0:n.toNumber())}},{key:"lessEquals",value:function(n){return this.add(n.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.number}},{key:"toString",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return n?this.isInvalidate()?"":xt(this.number):this.origin}}]),e}();function he(e){return Wt()?new Hr(e):new Ur(e)}function ht(e,t,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(e==="")return"";var i=ke(e),a=i.negativeStr,l=i.integerStr,s=i.decimalStr,c="".concat(t).concat(s),u="".concat(a).concat(l);if(n>=0){var d=Number(s[n]);if(d>=5&&!r){var f=he(e).add("".concat(a,"0.").concat("0".repeat(n)).concat(10-d));return ht(f.toString(),t,n,r)}return n===0?u:"".concat(u).concat(t).concat(s.padEnd(n,"0").slice(0,n))}return c===".0"?u:"".concat(u).concat(c)}function Gr(e,t){return typeof Proxy<"u"&&e?new Proxy(e,{get:function(r,i){if(t[i])return t[i];var a=r[i];return typeof a=="function"?a.bind(r):a}}):e}function Xr(e,t){var n=o.useRef(null);function r(){try{var a=e.selectionStart,l=e.selectionEnd,s=e.value,c=s.substring(0,a),u=s.substring(l);n.current={start:a,end:l,value:s,beforeTxt:c,afterTxt:u}}catch{}}function i(){if(e&&n.current&&t)try{var a=e.value,l=n.current,s=l.beforeTxt,c=l.afterTxt,u=l.start,d=a.length;if(a.startsWith(s))d=s.length;else if(a.endsWith(c))d=a.length-n.current.afterTxt.length;else{var f=s[u-1],h=a.indexOf(f,u-1);h!==-1&&(d=h+1)}e.setSelectionRange(d,d)}catch(g){Zn(!1,"Something warning of cursor restore. Please fire issue about this: ".concat(g.message))}}return[r,i]}var qr=function(){var t=o.useState(!1),n=Ke(t,2),r=n[0],i=n[1];return er(function(){i(tr())},[]),r},Kr=200,Yr=600;function Jr(e){var t=e.prefixCls,n=e.upNode,r=e.downNode,i=e.upDisabled,a=e.downDisabled,l=e.onStep,s=o.useRef(),c=o.useRef([]),u=o.useRef();u.current=l;var d=function(){clearTimeout(s.current)},f=function(b,p){b.preventDefault(),d(),u.current(p);function x(){u.current(p),s.current=setTimeout(x,Kr)}s.current=setTimeout(x,Yr)};o.useEffect(function(){return function(){d(),c.current.forEach(function(R){return mt.cancel(R)})}},[]);var h=qr();if(h)return null;var g="".concat(t,"-handler"),$=De(g,"".concat(g,"-up"),ee({},"".concat(g,"-up-disabled"),i)),v=De(g,"".concat(g,"-down"),ee({},"".concat(g,"-down-disabled"),a)),y=function(){return c.current.push(mt(d))},w={unselectable:"on",role:"button",onMouseUp:y,onMouseLeave:y};return o.createElement("div",{className:"".concat(g,"-wrap")},o.createElement("span",Ze({},w,{onMouseDown:function(b){f(b,!0)},"aria-label":"Increase Value","aria-disabled":i,className:$}),n||o.createElement("span",{unselectable:"on",className:"".concat(t,"-handler-up-inner")})),o.createElement("span",Ze({},w,{onMouseDown:function(b){f(b,!1)},"aria-label":"Decrease Value","aria-disabled":a,className:v}),r||o.createElement("span",{unselectable:"on",className:"".concat(t,"-handler-down-inner")})))}function fn(e){var t=typeof e=="number"?xt(e):ke(e).fullStr,n=t.includes(".");return n?ke(t.replace(/(\d)\.(\d)/g,"$1$2.")).fullStr:e+"0"}const Qr=function(){var e=o.useRef(0),t=function(){mt.cancel(e.current)};return o.useEffect(function(){return t},[]),function(n){t(),e.current=mt(function(){n()})}};var Zr=["prefixCls","className","style","min","max","step","defaultValue","value","disabled","readOnly","upHandler","downHandler","keyboard","changeOnWheel","controls","classNames","stringMode","parser","formatter","precision","decimalSeparator","onChange","onInput","onPressEnter","onStep","changeOnBlur","domRef"],ei=["disabled","style","prefixCls","value","prefix","suffix","addonBefore","addonAfter","className","classNames"],gn=function(t,n){return t||n.isEmpty()?n.toString():n.toNumber()},hn=function(t){var n=he(t);return n.isInvalidate()?null:n},ti=o.forwardRef(function(e,t){var n=e.prefixCls,r=e.className,i=e.style,a=e.min,l=e.max,s=e.step,c=s===void 0?1:s,u=e.defaultValue,d=e.value,f=e.disabled,h=e.readOnly,g=e.upHandler,$=e.downHandler,v=e.keyboard,y=e.changeOnWheel,w=y===void 0?!1:y,R=e.controls,b=R===void 0?!0:R;e.classNames;var p=e.stringMode,x=e.parser,I=e.formatter,E=e.precision,D=e.decimalSeparator,L=e.onChange,j=e.onInput,M=e.onPressEnter,V=e.onStep,W=e.changeOnBlur,Y=W===void 0?!0:W,de=e.domRef,me=Nn(e,Zr),U="".concat(n,"-input"),te=o.useRef(null),G=o.useState(!1),N=Ke(G,2),k=N[0],P=N[1],_=o.useRef(!1),J=o.useRef(!1),X=o.useRef(!1),B=o.useState(function(){return he(d??u)}),ne=Ke(B,2),A=ne[0],Q=ne[1];function z(S){d===void 0&&Q(S)}var we=o.useCallback(function(S,m){if(!m)return E>=0?E:Math.max(Te(S),Te(c))},[E,c]),oe=o.useCallback(function(S){var m=String(S);if(x)return x(m);var O=m;return D&&(O=O.replace(D,".")),O.replace(/[^\w.-]+/g,"")},[x,D]),be=o.useRef(""),le=o.useCallback(function(S,m){if(I)return I(S,{userTyping:m,input:String(be.current)});var O=typeof S=="number"?xt(S):S;if(!m){var C=we(O,m);if(Yt(O)&&(D||C>=0)){var H=D||".";O=ht(O,H,C)}}return O},[I,we,D]),Ie=o.useState(function(){var S=u??d;return A.isInvalidate()&&["string","number"].includes(nr(S))?Number.isNaN(S)?"":S:le(A.toString(),!1)}),xe=Ke(Ie,2),Ne=xe[0],Pe=xe[1];be.current=Ne;function Ee(S,m){Pe(le(S.isInvalidate()?S.toString(!1):S.toString(!m),m))}var ae=o.useMemo(function(){return hn(l)},[l,E]),fe=o.useMemo(function(){return hn(a)},[a,E]),Oe=o.useMemo(function(){return!ae||!A||A.isInvalidate()?!1:ae.lessEquals(A)},[ae,A]),_e=o.useMemo(function(){return!fe||!A||A.isInvalidate()?!1:A.lessEquals(fe)},[fe,A]),ot=Xr(te.current,k),st=Ke(ot,2),Dt=st[0],$e=st[1],Ce=function(m){return ae&&!m.lessEquals(ae)?ae:fe&&!fe.lessEquals(m)?fe:null},Re=function(m){return!Ce(m)},Ae=function(m,O){var C=m,H=Re(C)||C.isEmpty();if(!C.isEmpty()&&!O&&(C=Ce(C)||C,H=!0),!h&&!f&&H){var re=C.toString(),Se=we(re,O);return Se>=0&&(C=he(ht(re,".",Se)),Re(C)||(C=he(ht(re,".",Se,!0)))),C.equals(A)||(z(C),L==null||L(C.isEmpty()?null:gn(p,C)),d===void 0&&Ee(C,O)),C}return A},ye=Qr(),Ve=function S(m){if(Dt(),be.current=m,Pe(m),!J.current){var O=oe(m),C=he(O);C.isNaN()||Ae(C,!0)}j==null||j(m),ye(function(){var H=m;x||(H=m.replace(/。/g,".")),H!==m&&S(H)})},It=function(){J.current=!0},Nt=function(){J.current=!1,Ve(te.current.value)},lt=function(m){Ve(m.target.value)},We=function(m){var O;if(!(m&&Oe||!m&&_e)){_.current=!1;var C=he(X.current?fn(c):c);m||(C=C.negate());var H=(A||he(0)).add(C.toString()),re=Ae(H,!1);V==null||V(gn(p,re),{offset:X.current?fn(c):c,type:m?"up":"down"}),(O=te.current)===null||O===void 0||O.focus()}},He=function(m){var O=he(oe(Ne)),C;O.isNaN()?C=Ae(A,m):C=Ae(O,m),d!==void 0?Ee(A,!1):C.isNaN()||Ee(C,!1)},$t=function(){_.current=!0},Mt=function(m){var O=m.key,C=m.shiftKey;_.current=!0,X.current=C,O==="Enter"&&(J.current||(_.current=!1),He(!1),M==null||M(m)),v!==!1&&!J.current&&["Up","ArrowUp","Down","ArrowDown"].includes(O)&&(We(O==="Up"||O==="ArrowUp"),m.preventDefault())},Ot=function(){_.current=!1,X.current=!1};o.useEffect(function(){if(w&&k){var S=function(C){We(C.deltaY<0),C.preventDefault()},m=te.current;if(m)return m.addEventListener("wheel",S,{passive:!1}),function(){return m.removeEventListener("wheel",S)}}});var q=function(){Y&&He(!1),P(!1),_.current=!1};return Tt(function(){A.isInvalidate()||Ee(A,!1)},[E,I]),Tt(function(){var S=he(d);Q(S);var m=he(oe(Ne));(!S.equals(m)||!_.current||I)&&Ee(S,_.current)},[d]),Tt(function(){I&&$e()},[Ne]),o.createElement("div",{ref:de,className:De(n,r,ee(ee(ee(ee(ee({},"".concat(n,"-focused"),k),"".concat(n,"-disabled"),f),"".concat(n,"-readonly"),h),"".concat(n,"-not-a-number"),A.isNaN()),"".concat(n,"-out-of-range"),!A.isInvalidate()&&!Re(A))),style:i,onFocus:function(){P(!0)},onBlur:q,onKeyDown:Mt,onKeyUp:Ot,onCompositionStart:It,onCompositionEnd:Nt,onBeforeInput:$t},b&&o.createElement(Jr,{prefixCls:n,upNode:g,downNode:$,upDisabled:Oe,downDisabled:_e,onStep:We}),o.createElement("div",{className:"".concat(U,"-wrap")},o.createElement("input",Ze({autoComplete:"off",role:"spinbutton","aria-valuemin":a,"aria-valuemax":l,"aria-valuenow":A.isInvalidate()?null:A.toString(),step:c},me,{ref:rr(te,t),className:U,value:Ne,onChange:lt,disabled:f,readOnly:h}))))}),ni=o.forwardRef(function(e,t){var n=e.disabled,r=e.style,i=e.prefixCls,a=i===void 0?"rc-input-number":i,l=e.value,s=e.prefix,c=e.suffix,u=e.addonBefore,d=e.addonAfter,f=e.className,h=e.classNames,g=Nn(e,ei),$=o.useRef(null),v=o.useRef(null),y=o.useRef(null),w=function(b){y.current&&Rr(y.current,b)};return o.useImperativeHandle(t,function(){return Gr(y.current,{nativeElement:$.current.nativeElement||v.current})}),o.createElement(Cr,{className:f,triggerFocus:w,prefixCls:a,value:l,disabled:n,style:r,prefix:s,suffix:c,addonAfter:d,addonBefore:u,classNames:h,components:{affixWrapper:"div",groupWrapper:"div",wrapper:"div",groupAddon:"div"},ref:$},o.createElement(ti,Ze({prefixCls:a,disabled:n,ref:y,domRef:v,className:h==null?void 0:h.input},g)))});const ri=e=>{var t;const n=(t=e.handleVisible)!==null&&t!==void 0?t:"auto";return Object.assign(Object.assign({},Dr(e)),{controlWidth:90,handleWidth:e.controlHeightSM-e.lineWidth*2,handleFontSize:e.fontSize/2,handleVisible:n,handleActiveBg:e.colorFillAlter,handleBg:e.colorBgContainer,filledHandleBg:new ir(e.colorFillSecondary).onBackground(e.colorBgContainer).toHexString(),handleHoverColor:e.colorPrimary,handleBorderColor:e.colorBorder,handleOpacity:n===!0?1:0})},pn=(e,t)=>{let{componentCls:n,borderRadiusSM:r,borderRadiusLG:i}=e;const a=t==="lg"?i:r;return{[`&-${t}`]:{[`${n}-handler-wrap`]:{borderStartEndRadius:a,borderEndEndRadius:a},[`${n}-handler-up`]:{borderStartEndRadius:a},[`${n}-handler-down`]:{borderEndEndRadius:a}}}},ii=e=>{const{componentCls:t,lineWidth:n,lineType:r,borderRadius:i,inputFontSizeSM:a,inputFontSizeLG:l,controlHeightLG:s,controlHeightSM:c,colorError:u,paddingInlineSM:d,paddingBlockSM:f,paddingBlockLG:h,paddingInlineLG:g,colorTextDescription:$,motionDurationMid:v,handleHoverColor:y,handleOpacity:w,paddingInline:R,paddingBlock:b,handleBg:p,handleActiveBg:x,colorTextDisabled:I,borderRadiusSM:E,borderRadiusLG:D,controlWidth:L,handleBorderColor:j,filledHandleBg:M,lineHeightLG:V,calc:W}=e;return[{[t]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},kt(e)),$n(e)),{display:"inline-block",width:L,margin:0,padding:0,borderRadius:i}),Nr(e,{[`${t}-handler-wrap`]:{background:p,[`${t}-handler-down`]:{borderBlockStart:`${ce(n)} ${r} ${j}`}}})),$r(e,{[`${t}-handler-wrap`]:{background:M,[`${t}-handler-down`]:{borderBlockStart:`${ce(n)} ${r} ${j}`}},"&:focus-within":{[`${t}-handler-wrap`]:{background:p}}})),Mr(e)),{"&-rtl":{direction:"rtl",[`${t}-input`]:{direction:"rtl"}},"&-lg":{padding:0,fontSize:l,lineHeight:V,borderRadius:D,[`input${t}-input`]:{height:W(s).sub(W(n).mul(2)).equal(),padding:`${ce(h)} ${ce(g)}`}},"&-sm":{padding:0,fontSize:a,borderRadius:E,[`input${t}-input`]:{height:W(c).sub(W(n).mul(2)).equal(),padding:`${ce(f)} ${ce(d)}`}},"&-out-of-range":{[`${t}-input-wrap`]:{input:{color:u}}},"&-group":Object.assign(Object.assign(Object.assign({},kt(e)),Or(e)),{"&-wrapper":Object.assign(Object.assign(Object.assign({display:"inline-block",textAlign:"start",verticalAlign:"top",[`${t}-affix-wrapper`]:{width:"100%"},"&-lg":{[`${t}-group-addon`]:{borderRadius:D,fontSize:e.fontSizeLG}},"&-sm":{[`${t}-group-addon`]:{borderRadius:E}}},Ar(e)),Tr(e)),{[`&:not(${t}-compact-first-item):not(${t}-compact-last-item)${t}-compact-item`]:{[`${t}, ${t}-group-addon`]:{borderRadius:0}},[`&:not(${t}-compact-last-item)${t}-compact-first-item`]:{[`${t}, ${t}-group-addon`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&:not(${t}-compact-first-item)${t}-compact-last-item`]:{[`${t}, ${t}-group-addon`]:{borderStartStartRadius:0,borderEndStartRadius:0}}})}),[`&-disabled ${t}-input`]:{cursor:"not-allowed"},[t]:{"&-input":Object.assign(Object.assign(Object.assign(Object.assign({},kt(e)),{width:"100%",padding:`${ce(b)} ${ce(R)}`,textAlign:"start",backgroundColor:"transparent",border:0,borderRadius:i,outline:0,transition:`all ${v} linear`,appearance:"textfield",fontSize:"inherit"}),kr(e.colorTextPlaceholder)),{'&[type="number"]::-webkit-inner-spin-button, &[type="number"]::-webkit-outer-spin-button':{margin:0,webkitAppearance:"none",appearance:"none"}})},[`&:hover ${t}-handler-wrap, &-focused ${t}-handler-wrap`]:{width:e.handleWidth,opacity:1}})},{[t]:Object.assign(Object.assign(Object.assign({[`${t}-handler-wrap`]:{position:"absolute",insetBlockStart:0,insetInlineEnd:0,width:0,opacity:w,height:"100%",borderStartStartRadius:0,borderStartEndRadius:i,borderEndEndRadius:i,borderEndStartRadius:0,display:"flex",flexDirection:"column",alignItems:"stretch",transition:`all ${v}`,overflow:"hidden",[`${t}-handler`]:{display:"flex",alignItems:"center",justifyContent:"center",flex:"auto",height:"40%",[`
              ${t}-handler-up-inner,
              ${t}-handler-down-inner
            `]:{marginInlineEnd:0,fontSize:e.handleFontSize}}},[`${t}-handler`]:{height:"50%",overflow:"hidden",color:$,fontWeight:"bold",lineHeight:0,textAlign:"center",cursor:"pointer",borderInlineStart:`${ce(n)} ${r} ${j}`,transition:`all ${v} linear`,"&:active":{background:x},"&:hover":{height:"60%",[`
              ${t}-handler-up-inner,
              ${t}-handler-down-inner
            `]:{color:y}},"&-up-inner, &-down-inner":Object.assign(Object.assign({},sr()),{color:$,transition:`all ${v} linear`,userSelect:"none"})},[`${t}-handler-up`]:{borderStartEndRadius:i},[`${t}-handler-down`]:{borderEndEndRadius:i}},pn(e,"lg")),pn(e,"sm")),{"&-disabled, &-readonly":{[`${t}-handler-wrap`]:{display:"none"},[`${t}-input`]:{color:"inherit"}},[`
          ${t}-handler-up-disabled,
          ${t}-handler-down-disabled
        `]:{cursor:"not-allowed"},[`
          ${t}-handler-up-disabled:hover &-handler-up-inner,
          ${t}-handler-down-disabled:hover &-handler-down-inner
        `]:{color:I}})}]},ai=e=>{const{componentCls:t,paddingBlock:n,paddingInline:r,inputAffixPadding:i,controlWidth:a,borderRadiusLG:l,borderRadiusSM:s,paddingInlineLG:c,paddingInlineSM:u,paddingBlockLG:d,paddingBlockSM:f,motionDurationMid:h}=e;return{[`${t}-affix-wrapper`]:Object.assign(Object.assign({[`input${t}-input`]:{padding:`${ce(n)} 0`}},$n(e)),{position:"relative",display:"inline-flex",alignItems:"center",width:a,padding:0,paddingInlineStart:r,"&-lg":{borderRadius:l,paddingInlineStart:c,[`input${t}-input`]:{padding:`${ce(d)} 0`}},"&-sm":{borderRadius:s,paddingInlineStart:u,[`input${t}-input`]:{padding:`${ce(f)} 0`}},[`&:not(${t}-disabled):hover`]:{zIndex:1},"&-focused, &:focus":{zIndex:1},[`&-disabled > ${t}-disabled`]:{background:"transparent"},[`> div${t}`]:{width:"100%",border:"none",outline:"none",[`&${t}-focused`]:{boxShadow:"none !important"}},"&::before":{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'},[`${t}-handler-wrap`]:{zIndex:2},[t]:{position:"static",color:"inherit","&-prefix, &-suffix":{display:"flex",flex:"none",alignItems:"center",pointerEvents:"none"},"&-prefix":{marginInlineEnd:i},"&-suffix":{insetBlockStart:0,insetInlineEnd:0,height:"100%",marginInlineEnd:r,marginInlineStart:i,transition:`margin ${h}`}},[`&:hover ${t}-handler-wrap, &-focused ${t}-handler-wrap`]:{width:e.handleWidth,opacity:1},[`&:hover ${t}-suffix`]:{marginInlineEnd:e.calc(e.handleWidth).add(r).equal()}})}},oi=ar("InputNumber",e=>{const t=or(e,Ir(e));return[ii(t),ai(t),zr(t)]},ri,{unitless:{handleOpacity:!0}});var si=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const On=o.forwardRef((e,t)=>{const{getPrefixCls:n,direction:r}=o.useContext(lr),i=o.useRef(null);o.useImperativeHandle(t,()=>i.current);const{className:a,rootClassName:l,size:s,disabled:c,prefixCls:u,addonBefore:d,addonAfter:f,prefix:h,suffix:g,bordered:$,readOnly:v,status:y,controls:w,variant:R}=e,b=si(e,["className","rootClassName","size","disabled","prefixCls","addonBefore","addonAfter","prefix","suffix","bordered","readOnly","status","controls","variant"]),p=n("input-number",u),x=cr(p),[I,E,D]=oi(p,x),{compactSize:L,compactItemClassnames:j}=ur(p,r);let M=o.createElement(Wr,{className:`${p}-handler-up-inner`}),V=o.createElement(Br,{className:`${p}-handler-down-inner`});const W=typeof w=="boolean"?w:void 0;typeof w=="object"&&(M=typeof w.upIcon>"u"?M:o.createElement("span",{className:`${p}-handler-up-inner`},w.upIcon),V=typeof w.downIcon>"u"?V:o.createElement("span",{className:`${p}-handler-down-inner`},w.downIcon));const{hasFeedback:Y,status:de,isFormItemInput:me,feedbackIcon:U}=o.useContext(dr),te=Pr(de,y),G=fr(A=>{var Q;return(Q=s??L)!==null&&Q!==void 0?Q:A}),N=o.useContext(gr),k=c??N,[P,_]=Fr("inputNumber",R,$),J=Y&&o.createElement(o.Fragment,null,U),X=De({[`${p}-lg`]:G==="large",[`${p}-sm`]:G==="small",[`${p}-rtl`]:r==="rtl",[`${p}-in-form-item`]:me},E),B=`${p}-group`,ne=o.createElement(ni,Object.assign({ref:i,disabled:k,className:De(D,x,a,l,j),upHandler:M,downHandler:V,prefixCls:p,readOnly:v,controls:W,prefix:h,suffix:J||g,addonBefore:d&&o.createElement(ln,{form:!0,space:!0},d),addonAfter:f&&o.createElement(ln,{form:!0,space:!0},f),classNames:{input:X,variant:De({[`${p}-${P}`]:_},un(p,te,Y)),affixWrapper:De({[`${p}-affix-wrapper-sm`]:G==="small",[`${p}-affix-wrapper-lg`]:G==="large",[`${p}-affix-wrapper-rtl`]:r==="rtl"},E),wrapper:De({[`${B}-rtl`]:r==="rtl"},E),groupWrapper:De({[`${p}-group-wrapper-sm`]:G==="small",[`${p}-group-wrapper-lg`]:G==="large",[`${p}-group-wrapper-rtl`]:r==="rtl",[`${p}-group-wrapper-${P}`]:_},un(`${p}-group-wrapper`,te,Y),E)}},b));return I(ne)}),pt=On,li=e=>o.createElement(hr,{theme:{components:{InputNumber:{handleVisible:!0}}}},o.createElement(On,Object.assign({},e)));pt._InternalPanelDoNotUseOrYouWillBeFired=li;function ci(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return o.useMemo(()=>r=>{t.forEach(i=>i(r))},t)}const Et=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Be(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function Jt(e){return"nodeType"in e}function se(e){var t,n;return e?Be(e)?e:Jt(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function Qt(e){const{Document:t}=se(e);return e instanceof t}function rt(e){return Be(e)?!1:e instanceof se(e).HTMLElement}function An(e){return e instanceof se(e).SVGElement}function ze(e){return e?Be(e)?e.document:Jt(e)?Qt(e)?e:rt(e)||An(e)?e.ownerDocument:document:document:document}const pe=Et?o.useLayoutEffect:o.useEffect;function Zt(e){const t=o.useRef(e);return pe(()=>{t.current=e}),o.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current==null?void 0:t.current(...r)},[])}function ui(){const e=o.useRef(null),t=o.useCallback((r,i)=>{e.current=setInterval(r,i)},[]),n=o.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function et(e,t){t===void 0&&(t=[e]);const n=o.useRef(e);return pe(()=>{n.current!==e&&(n.current=e)},t),n}function it(e,t){const n=o.useRef();return o.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function bt(e){const t=Zt(e),n=o.useRef(null),r=o.useCallback(i=>{i!==n.current&&(t==null||t(i,n.current)),n.current=i},[]);return[n,r]}function Ht(e){const t=o.useRef();return o.useEffect(()=>{t.current=e},[e]),t.current}let jt={};function at(e,t){return o.useMemo(()=>{if(t)return t;const n=jt[e]==null?0:jt[e]+1;return jt[e]=n,e+"-"+n},[e,t])}function Tn(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.reduce((a,l)=>{const s=Object.entries(l);for(const[c,u]of s){const d=a[c];d!=null&&(a[c]=d+e*u)}return a},{...t})}}const je=Tn(1),yt=Tn(-1);function di(e){return"clientX"in e&&"clientY"in e}function en(e){if(!e)return!1;const{KeyboardEvent:t}=se(e.target);return t&&e instanceof t}function fi(e){if(!e)return!1;const{TouchEvent:t}=se(e.target);return t&&e instanceof t}function Ut(e){if(fi(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return di(e)?{x:e.clientX,y:e.clientY}:null}const tt=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[tt.Translate.toString(e),tt.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),vn="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function gi(e){return e.matches(vn)?e:e.querySelector(vn)}const hi={display:"none"};function pi(e){let{id:t,value:n}=e;return ie.createElement("div",{id:t,style:hi},n)}function vi(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;const i={position:"fixed",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return ie.createElement("div",{id:t,style:i,role:"status","aria-live":r,"aria-atomic":!0},n)}function mi(){const[e,t]=o.useState("");return{announce:o.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const kn=o.createContext(null);function bi(e){const t=o.useContext(kn);o.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function yi(){const[e]=o.useState(()=>new Set),t=o.useCallback(r=>(e.add(r),()=>e.delete(r)),[e]);return[o.useCallback(r=>{let{type:i,event:a}=r;e.forEach(l=>{var s;return(s=l[i])==null?void 0:s.call(l,a)})},[e]),t]}const Si={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},wi={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function xi(e){let{announcements:t=wi,container:n,hiddenTextDescribedById:r,screenReaderInstructions:i=Si}=e;const{announce:a,announcement:l}=mi(),s=at("DndLiveRegion"),[c,u]=o.useState(!1);if(o.useEffect(()=>{u(!0)},[]),bi(o.useMemo(()=>({onDragStart(f){let{active:h}=f;a(t.onDragStart({active:h}))},onDragMove(f){let{active:h,over:g}=f;t.onDragMove&&a(t.onDragMove({active:h,over:g}))},onDragOver(f){let{active:h,over:g}=f;a(t.onDragOver({active:h,over:g}))},onDragEnd(f){let{active:h,over:g}=f;a(t.onDragEnd({active:h,over:g}))},onDragCancel(f){let{active:h,over:g}=f;a(t.onDragCancel({active:h,over:g}))}}),[a,t])),!c)return null;const d=ie.createElement(ie.Fragment,null,ie.createElement(pi,{id:r,value:i.draggable}),ie.createElement(vi,{id:s,announcement:l}));return n?Le.createPortal(d,n):d}var K;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(K||(K={}));function St(){}function Ei(e,t){return o.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function Ci(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return o.useMemo(()=>[...t].filter(r=>r!=null),[...t])}const ve=Object.freeze({x:0,y:0});function Ri(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function Di(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function Ii(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),i=Math.min(t.left+t.width,e.left+e.width),a=Math.min(t.top+t.height,e.top+e.height),l=i-r,s=a-n;if(r<i&&n<a){const c=t.width*t.height,u=e.width*e.height,d=l*s,f=d/(c+u-d);return Number(f.toFixed(4))}return 0}const Ni=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const i=[];for(const a of r){const{id:l}=a,s=n.get(l);if(s){const c=Ii(s,t);c>0&&i.push({id:l,data:{droppableContainer:a,value:c}})}}return i.sort(Ri)};function $i(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function Ln(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:ve}function Mi(e){return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return i.reduce((l,s)=>({...l,top:l.top+e*s.y,bottom:l.bottom+e*s.y,left:l.left+e*s.x,right:l.right+e*s.x}),{...n})}}const Oi=Mi(1);function Ai(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function Ti(e,t,n){const r=Ai(t);if(!r)return e;const{scaleX:i,scaleY:a,x:l,y:s}=r,c=e.left-l-(1-i)*parseFloat(n),u=e.top-s-(1-a)*parseFloat(n.slice(n.indexOf(" ")+1)),d=i?e.width/i:e.width,f=a?e.height/a:e.height;return{width:d,height:f,top:u,right:c+d,bottom:u+f,left:c}}const ki={ignoreTransform:!1};function Fe(e,t){t===void 0&&(t=ki);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:u,transformOrigin:d}=se(e).getComputedStyle(e);u&&(n=Ti(n,u,d))}const{top:r,left:i,width:a,height:l,bottom:s,right:c}=n;return{top:r,left:i,width:a,height:l,bottom:s,right:c}}function mn(e){return Fe(e,{ignoreTransform:!0})}function Li(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function ji(e,t){return t===void 0&&(t=se(e).getComputedStyle(e)),t.position==="fixed"}function Bi(e,t){t===void 0&&(t=se(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const a=t[i];return typeof a=="string"?n.test(a):!1})}function tn(e,t){const n=[];function r(i){if(t!=null&&n.length>=t||!i)return n;if(Qt(i)&&i.scrollingElement!=null&&!n.includes(i.scrollingElement))return n.push(i.scrollingElement),n;if(!rt(i)||An(i)||n.includes(i))return n;const a=se(e).getComputedStyle(i);return i!==e&&Bi(i,a)&&n.push(i),ji(i,a)?n:r(i.parentNode)}return e?r(e):n}function jn(e){const[t]=tn(e,1);return t??null}function Bt(e){return!Et||!e?null:Be(e)?e:Jt(e)?Qt(e)||e===ze(e).scrollingElement?window:rt(e)?e:null:null}function Bn(e){return Be(e)?e.scrollX:e.scrollLeft}function zn(e){return Be(e)?e.scrollY:e.scrollTop}function Gt(e){return{x:Bn(e),y:zn(e)}}var Z;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(Z||(Z={}));function Fn(e){return!Et||!e?!1:e===document.scrollingElement}function Pn(e){const t={x:0,y:0},n=Fn(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},i=e.scrollTop<=t.y,a=e.scrollLeft<=t.x,l=e.scrollTop>=r.y,s=e.scrollLeft>=r.x;return{isTop:i,isLeft:a,isBottom:l,isRight:s,maxScroll:r,minScroll:t}}const zi={x:.2,y:.2};function Fi(e,t,n,r,i){let{top:a,left:l,right:s,bottom:c}=n;r===void 0&&(r=10),i===void 0&&(i=zi);const{isTop:u,isBottom:d,isLeft:f,isRight:h}=Pn(e),g={x:0,y:0},$={x:0,y:0},v={height:t.height*i.y,width:t.width*i.x};return!u&&a<=t.top+v.height?(g.y=Z.Backward,$.y=r*Math.abs((t.top+v.height-a)/v.height)):!d&&c>=t.bottom-v.height&&(g.y=Z.Forward,$.y=r*Math.abs((t.bottom-v.height-c)/v.height)),!h&&s>=t.right-v.width?(g.x=Z.Forward,$.x=r*Math.abs((t.right-v.width-s)/v.width)):!f&&l<=t.left+v.width&&(g.x=Z.Backward,$.x=r*Math.abs((t.left+v.width-l)/v.width)),{direction:g,speed:$}}function Pi(e){if(e===document.scrollingElement){const{innerWidth:a,innerHeight:l}=window;return{top:0,left:0,right:a,bottom:l,width:a,height:l}}const{top:t,left:n,right:r,bottom:i}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:i,width:e.clientWidth,height:e.clientHeight}}function _n(e){return e.reduce((t,n)=>je(t,Gt(n)),ve)}function _i(e){return e.reduce((t,n)=>t+Bn(n),0)}function Vi(e){return e.reduce((t,n)=>t+zn(n),0)}function Wi(e,t){if(t===void 0&&(t=Fe),!e)return;const{top:n,left:r,bottom:i,right:a}=t(e);jn(e)&&(i<=0||a<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const Hi=[["x",["left","right"],_i],["y",["top","bottom"],Vi]];class nn{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=tn(n),i=_n(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[a,l,s]of Hi)for(const c of l)Object.defineProperty(this,c,{get:()=>{const u=s(r),d=i[a]-u;return this.rect[c]+d},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Ye{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var i;(i=this.target)==null||i.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function Ui(e){const{EventTarget:t}=se(e);return e instanceof t?e:ze(e)}function zt(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var ue;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(ue||(ue={}));function bn(e){e.preventDefault()}function Gi(e){e.stopPropagation()}var F;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter"})(F||(F={}));const Vn={start:[F.Space,F.Enter],cancel:[F.Esc],end:[F.Space,F.Enter]},Xi=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case F.Right:return{...n,x:n.x+25};case F.Left:return{...n,x:n.x-25};case F.Down:return{...n,y:n.y+25};case F.Up:return{...n,y:n.y-25}}};class Wn{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new Ye(ze(n)),this.windowListeners=new Ye(se(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(ue.Resize,this.handleCancel),this.windowListeners.add(ue.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(ue.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&Wi(r),n(ve)}handleKeyDown(t){if(en(t)){const{active:n,context:r,options:i}=this.props,{keyboardCodes:a=Vn,coordinateGetter:l=Xi,scrollBehavior:s="smooth"}=i,{code:c}=t;if(a.end.includes(c)){this.handleEnd(t);return}if(a.cancel.includes(c)){this.handleCancel(t);return}const{collisionRect:u}=r.current,d=u?{x:u.left,y:u.top}:ve;this.referenceCoordinates||(this.referenceCoordinates=d);const f=l(t,{active:n,context:r.current,currentCoordinates:d});if(f){const h=yt(f,d),g={x:0,y:0},{scrollableAncestors:$}=r.current;for(const v of $){const y=t.code,{isTop:w,isRight:R,isLeft:b,isBottom:p,maxScroll:x,minScroll:I}=Pn(v),E=Pi(v),D={x:Math.min(y===F.Right?E.right-E.width/2:E.right,Math.max(y===F.Right?E.left:E.left+E.width/2,f.x)),y:Math.min(y===F.Down?E.bottom-E.height/2:E.bottom,Math.max(y===F.Down?E.top:E.top+E.height/2,f.y))},L=y===F.Right&&!R||y===F.Left&&!b,j=y===F.Down&&!p||y===F.Up&&!w;if(L&&D.x!==f.x){const M=v.scrollLeft+h.x,V=y===F.Right&&M<=x.x||y===F.Left&&M>=I.x;if(V&&!h.y){v.scrollTo({left:M,behavior:s});return}V?g.x=v.scrollLeft-M:g.x=y===F.Right?v.scrollLeft-x.x:v.scrollLeft-I.x,g.x&&v.scrollBy({left:-g.x,behavior:s});break}else if(j&&D.y!==f.y){const M=v.scrollTop+h.y,V=y===F.Down&&M<=x.y||y===F.Up&&M>=I.y;if(V&&!h.x){v.scrollTo({top:M,behavior:s});return}V?g.y=v.scrollTop-M:g.y=y===F.Down?v.scrollTop-x.y:v.scrollTop-I.y,g.y&&v.scrollBy({top:-g.y,behavior:s});break}}this.handleMove(t,je(yt(f,this.referenceCoordinates),g))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Wn.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=Vn,onActivation:i}=t,{active:a}=n;const{code:l}=e.nativeEvent;if(r.start.includes(l)){const s=a.activatorNode.current;return s&&e.target!==s?!1:(e.preventDefault(),i==null||i({event:e.nativeEvent}),!0)}return!1}}];function yn(e){return!!(e&&"distance"in e)}function Sn(e){return!!(e&&"delay"in e)}class rn{constructor(t,n,r){var i;r===void 0&&(r=Ui(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:a}=t,{target:l}=a;this.props=t,this.events=n,this.document=ze(l),this.documentListeners=new Ye(this.document),this.listeners=new Ye(r),this.windowListeners=new Ye(se(l)),this.initialCoordinates=(i=Ut(a))!=null?i:ve,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),this.windowListeners.add(ue.Resize,this.handleCancel),this.windowListeners.add(ue.DragStart,bn),this.windowListeners.add(ue.VisibilityChange,this.handleCancel),this.windowListeners.add(ue.ContextMenu,bn),this.documentListeners.add(ue.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Sn(n)){this.timeoutId=setTimeout(this.handleStart,n.delay);return}if(yn(n))return}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(ue.Click,Gi,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(ue.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:i,props:a}=this,{onMove:l,options:{activationConstraint:s}}=a;if(!i)return;const c=(n=Ut(t))!=null?n:ve,u=yt(i,c);if(!r&&s){if(yn(s)){if(s.tolerance!=null&&zt(u,s.tolerance))return this.handleCancel();if(zt(u,s.distance))return this.handleStart()}return Sn(s)&&zt(u,s.tolerance)?this.handleCancel():void 0}t.cancelable&&t.preventDefault(),l(c)}handleEnd(){const{onEnd:t}=this.props;this.detach(),t()}handleCancel(){const{onCancel:t}=this.props;this.detach(),t()}handleKeydown(t){t.code===F.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const qi={move:{name:"pointermove"},end:{name:"pointerup"}};class an extends rn{constructor(t){const{event:n}=t,r=ze(n.target);super(t,qi,r)}}an.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const Ki={move:{name:"mousemove"},end:{name:"mouseup"}};var Xt;(function(e){e[e.RightClick=2]="RightClick"})(Xt||(Xt={}));class Yi extends rn{constructor(t){super(t,Ki,ze(t.event.target))}}Yi.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===Xt.RightClick?!1:(r==null||r({event:n}),!0)}}];const Ft={move:{name:"touchmove"},end:{name:"touchend"}};class Ji extends rn{constructor(t){super(t,Ft)}static setup(){return window.addEventListener(Ft.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(Ft.move.name,t)};function t(){}}}Ji.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:i}=n;return i.length>1?!1:(r==null||r({event:n}),!0)}}];var Je;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(Je||(Je={}));var wt;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(wt||(wt={}));function Qi(e){let{acceleration:t,activator:n=Je.Pointer,canScroll:r,draggingRect:i,enabled:a,interval:l=5,order:s=wt.TreeOrder,pointerCoordinates:c,scrollableAncestors:u,scrollableAncestorRects:d,delta:f,threshold:h}=e;const g=ea({delta:f,disabled:!a}),[$,v]=ui(),y=o.useRef({x:0,y:0}),w=o.useRef({x:0,y:0}),R=o.useMemo(()=>{switch(n){case Je.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case Je.DraggableRect:return i}},[n,i,c]),b=o.useRef(null),p=o.useCallback(()=>{const I=b.current;if(!I)return;const E=y.current.x*w.current.x,D=y.current.y*w.current.y;I.scrollBy(E,D)},[]),x=o.useMemo(()=>s===wt.TreeOrder?[...u].reverse():u,[s,u]);o.useEffect(()=>{if(!a||!u.length||!R){v();return}for(const I of x){if((r==null?void 0:r(I))===!1)continue;const E=u.indexOf(I),D=d[E];if(!D)continue;const{direction:L,speed:j}=Fi(I,D,R,t,h);for(const M of["x","y"])g[M][L[M]]||(j[M]=0,L[M]=0);if(j.x>0||j.y>0){v(),b.current=I,$(p,l),y.current=j,w.current=L;return}}y.current={x:0,y:0},w.current={x:0,y:0},v()},[t,p,r,v,a,l,JSON.stringify(R),JSON.stringify(g),$,u,x,d,JSON.stringify(h)])}const Zi={x:{[Z.Backward]:!1,[Z.Forward]:!1},y:{[Z.Backward]:!1,[Z.Forward]:!1}};function ea(e){let{delta:t,disabled:n}=e;const r=Ht(t);return it(i=>{if(n||!r||!i)return Zi;const a={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[Z.Backward]:i.x[Z.Backward]||a.x===-1,[Z.Forward]:i.x[Z.Forward]||a.x===1},y:{[Z.Backward]:i.y[Z.Backward]||a.y===-1,[Z.Forward]:i.y[Z.Forward]||a.y===1}}},[n,t,r])}function ta(e,t){const n=t!==null?e.get(t):void 0,r=n?n.node.current:null;return it(i=>{var a;return t===null?null:(a=r??i)!=null?a:null},[r,t])}function na(e,t){return o.useMemo(()=>e.reduce((n,r)=>{const{sensor:i}=r,a=i.activators.map(l=>({eventName:l.eventName,handler:t(l.handler,r)}));return[...n,...a]},[]),[e,t])}var nt;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(nt||(nt={}));var qt;(function(e){e.Optimized="optimized"})(qt||(qt={}));const wn=new Map;function ra(e,t){let{dragging:n,dependencies:r,config:i}=t;const[a,l]=o.useState(null),{frequency:s,measure:c,strategy:u}=i,d=o.useRef(e),f=y(),h=et(f),g=o.useCallback(function(w){w===void 0&&(w=[]),!h.current&&l(R=>R===null?w:R.concat(w.filter(b=>!R.includes(b))))},[h]),$=o.useRef(null),v=it(w=>{if(f&&!n)return wn;if(!w||w===wn||d.current!==e||a!=null){const R=new Map;for(let b of e){if(!b)continue;if(a&&a.length>0&&!a.includes(b.id)&&b.rect.current){R.set(b.id,b.rect.current);continue}const p=b.node.current,x=p?new nn(c(p),p):null;b.rect.current=x,x&&R.set(b.id,x)}return R}return w},[e,a,n,f,c]);return o.useEffect(()=>{d.current=e},[e]),o.useEffect(()=>{f||g()},[n,f]),o.useEffect(()=>{a&&a.length>0&&l(null)},[JSON.stringify(a)]),o.useEffect(()=>{f||typeof s!="number"||$.current!==null||($.current=setTimeout(()=>{g(),$.current=null},s))},[s,f,g,...r]),{droppableRects:v,measureDroppableContainers:g,measuringScheduled:a!=null};function y(){switch(u){case nt.Always:return!1;case nt.BeforeDragging:return n;default:return!n}}}function Hn(e,t){return it(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function ia(e,t){return Hn(e,t)}function aa(e){let{callback:t,disabled:n}=e;const r=Zt(t),i=o.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:a}=window;return new a(r)},[r,n]);return o.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function Ct(e){let{callback:t,disabled:n}=e;const r=Zt(t),i=o.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:a}=window;return new a(r)},[n]);return o.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function oa(e){return new nn(Fe(e),e)}function xn(e,t,n){t===void 0&&(t=oa);const[r,i]=o.useReducer(s,null),a=aa({callback(c){if(e)for(const u of c){const{type:d,target:f}=u;if(d==="childList"&&f instanceof HTMLElement&&f.contains(e)){i();break}}}}),l=Ct({callback:i});return pe(()=>{i(),e?(l==null||l.observe(e),a==null||a.observe(document.body,{childList:!0,subtree:!0})):(l==null||l.disconnect(),a==null||a.disconnect())},[e]),r;function s(c){if(!e)return null;if(e.isConnected===!1){var u;return(u=c??n)!=null?u:null}const d=t(e);return JSON.stringify(c)===JSON.stringify(d)?c:d}}function sa(e){const t=Hn(e);return Ln(e,t)}const En=[];function la(e){const t=o.useRef(e),n=it(r=>e?r&&r!==En&&e&&t.current&&e.parentNode===t.current.parentNode?r:tn(e):En,[e]);return o.useEffect(()=>{t.current=e},[e]),n}function ca(e){const[t,n]=o.useState(null),r=o.useRef(e),i=o.useCallback(a=>{const l=Bt(a.target);l&&n(s=>s?(s.set(l,Gt(l)),new Map(s)):null)},[]);return o.useEffect(()=>{const a=r.current;if(e!==a){l(a);const s=e.map(c=>{const u=Bt(c);return u?(u.addEventListener("scroll",i,{passive:!0}),[u,Gt(u)]):null}).filter(c=>c!=null);n(s.length?new Map(s):null),r.current=e}return()=>{l(e),l(a)};function l(s){s.forEach(c=>{const u=Bt(c);u==null||u.removeEventListener("scroll",i)})}},[i,e]),o.useMemo(()=>e.length?t?Array.from(t.values()).reduce((a,l)=>je(a,l),ve):_n(e):ve,[e,t])}function Cn(e,t){t===void 0&&(t=[]);const n=o.useRef(null);return o.useEffect(()=>{n.current=null},t),o.useEffect(()=>{const r=e!==ve;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?yt(e,n.current):ve}function ua(e){o.useEffect(()=>{if(!Et)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function da(e,t){return o.useMemo(()=>e.reduce((n,r)=>{let{eventName:i,handler:a}=r;return n[i]=l=>{a(l,t)},n},{}),[e,t])}function Un(e){return o.useMemo(()=>e?Li(e):null,[e])}const Pt=[];function fa(e,t){t===void 0&&(t=Fe);const[n]=e,r=Un(n?se(n):null),[i,a]=o.useReducer(s,Pt),l=Ct({callback:a});return e.length>0&&i===Pt&&a(),pe(()=>{e.length?e.forEach(c=>l==null?void 0:l.observe(c)):(l==null||l.disconnect(),a())},[e]),i;function s(){return e.length?e.map(c=>Fn(c)?r:new nn(t(c),c)):Pt}}function ga(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return rt(t)?t:e}function ha(e){let{measure:t}=e;const[n,r]=o.useState(null),i=o.useCallback(u=>{for(const{target:d}of u)if(rt(d)){r(f=>{const h=t(d);return f?{...f,width:h.width,height:h.height}:h});break}},[t]),a=Ct({callback:i}),l=o.useCallback(u=>{const d=ga(u);a==null||a.disconnect(),d&&(a==null||a.observe(d)),r(d?t(d):null)},[t,a]),[s,c]=bt(l);return o.useMemo(()=>({nodeRef:s,rect:n,setRef:c}),[n,s,c])}const pa=[{sensor:an,options:{}},{sensor:Wn,options:{}}],va={current:{}},vt={draggable:{measure:mn},droppable:{measure:mn,strategy:nt.WhileDragging,frequency:qt.Optimized},dragOverlay:{measure:Fe}};class Qe extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const ma={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Qe,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:St},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:vt,measureDroppableContainers:St,windowRect:null,measuringScheduled:!1},ba={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:St,draggableNodes:new Map,over:null,measureDroppableContainers:St},Rt=o.createContext(ba),Gn=o.createContext(ma);function ya(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Qe}}}function Sa(e,t){switch(t.type){case K.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case K.DragMove:return e.draggable.active?{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}}:e;case K.DragEnd:case K.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case K.RegisterDroppable:{const{element:n}=t,{id:r}=n,i=new Qe(e.droppable.containers);return i.set(r,n),{...e,droppable:{...e.droppable,containers:i}}}case K.SetDroppableDisabled:{const{id:n,key:r,disabled:i}=t,a=e.droppable.containers.get(n);if(!a||r!==a.key)return e;const l=new Qe(e.droppable.containers);return l.set(n,{...a,disabled:i}),{...e,droppable:{...e.droppable,containers:l}}}case K.UnregisterDroppable:{const{id:n,key:r}=t,i=e.droppable.containers.get(n);if(!i||r!==i.key)return e;const a=new Qe(e.droppable.containers);return a.delete(n),{...e,droppable:{...e.droppable,containers:a}}}default:return e}}function wa(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:i}=o.useContext(Rt),a=Ht(r),l=Ht(n==null?void 0:n.id);return o.useEffect(()=>{if(!t&&!r&&a&&l!=null){if(!en(a)||document.activeElement===a.target)return;const s=i.get(l);if(!s)return;const{activatorNode:c,node:u}=s;if(!c.current&&!u.current)return;requestAnimationFrame(()=>{for(const d of[c.current,u.current]){if(!d)continue;const f=gi(d);if(f){f.focus();break}}})}},[r,t,i,l,a]),null}function xa(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((i,a)=>a({transform:i,...r}),n):n}function Ea(e){return o.useMemo(()=>({draggable:{...vt.draggable,...e==null?void 0:e.draggable},droppable:{...vt.droppable,...e==null?void 0:e.droppable},dragOverlay:{...vt.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function Ca(e){let{activeNode:t,measure:n,initialRect:r,config:i=!0}=e;const a=o.useRef(!1),{x:l,y:s}=typeof i=="boolean"?{x:i,y:i}:i;pe(()=>{if(!l&&!s||!t){a.current=!1;return}if(a.current||!r)return;const u=t==null?void 0:t.node.current;if(!u||u.isConnected===!1)return;const d=n(u),f=Ln(d,r);if(l||(f.x=0),s||(f.y=0),a.current=!0,Math.abs(f.x)>0||Math.abs(f.y)>0){const h=jn(u);h&&h.scrollBy({top:f.y,left:f.x})}},[t,l,s,r,n])}const Xn=o.createContext({...ve,scaleX:1,scaleY:1});var Me;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Me||(Me={}));const Ra=o.memo(function(t){var n,r,i,a;let{id:l,accessibility:s,autoScroll:c=!0,children:u,sensors:d=pa,collisionDetection:f=Ni,measuring:h,modifiers:g,...$}=t;const v=o.useReducer(Sa,void 0,ya),[y,w]=v,[R,b]=yi(),[p,x]=o.useState(Me.Uninitialized),I=p===Me.Initialized,{draggable:{active:E,nodes:D,translate:L},droppable:{containers:j}}=y,M=E?D.get(E):null,V=o.useRef({initial:null,translated:null}),W=o.useMemo(()=>{var q;return E!=null?{id:E,data:(q=M==null?void 0:M.data)!=null?q:va,rect:V}:null},[E,M]),Y=o.useRef(null),[de,me]=o.useState(null),[U,te]=o.useState(null),G=et($,Object.values($)),N=at("DndDescribedBy",l),k=o.useMemo(()=>j.getEnabled(),[j]),P=Ea(h),{droppableRects:_,measureDroppableContainers:J,measuringScheduled:X}=ra(k,{dragging:I,dependencies:[L.x,L.y],config:P.droppable}),B=ta(D,E),ne=o.useMemo(()=>U?Ut(U):null,[U]),A=Ot(),Q=ia(B,P.draggable.measure);Ca({activeNode:E?D.get(E):null,config:A.layoutShiftCompensation,initialRect:Q,measure:P.draggable.measure});const z=xn(B,P.draggable.measure,Q),we=xn(B?B.parentElement:null),oe=o.useRef({activatorEvent:null,active:null,activeNode:B,collisionRect:null,collisions:null,droppableRects:_,draggableNodes:D,draggingNode:null,draggingNodeRect:null,droppableContainers:j,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),be=j.getNodeFor((n=oe.current.over)==null?void 0:n.id),le=ha({measure:P.dragOverlay.measure}),Ie=(r=le.nodeRef.current)!=null?r:B,xe=I?(i=le.rect)!=null?i:z:null,Ne=!!(le.nodeRef.current&&le.rect),Pe=sa(Ne?null:z),Ee=Un(Ie?se(Ie):null),ae=la(I?be??B:null),fe=fa(ae),Oe=xa(g,{transform:{x:L.x-Pe.x,y:L.y-Pe.y,scaleX:1,scaleY:1},activatorEvent:U,active:W,activeNodeRect:z,containerNodeRect:we,draggingNodeRect:xe,over:oe.current.over,overlayNodeRect:le.rect,scrollableAncestors:ae,scrollableAncestorRects:fe,windowRect:Ee}),_e=ne?je(ne,L):null,ot=ca(ae),st=Cn(ot),Dt=Cn(ot,[z]),$e=je(Oe,st),Ce=xe?Oi(xe,Oe):null,Re=W&&Ce?f({active:W,collisionRect:Ce,droppableRects:_,droppableContainers:k,pointerCoordinates:_e}):null,Ae=Di(Re,"id"),[ye,Ve]=o.useState(null),It=Ne?Oe:je(Oe,Dt),Nt=$i(It,(a=ye==null?void 0:ye.rect)!=null?a:null,z),lt=o.useCallback((q,S)=>{let{sensor:m,options:O}=S;if(Y.current==null)return;const C=D.get(Y.current);if(!C)return;const H=q.nativeEvent,re=new m({active:Y.current,activeNode:C,event:H,options:O,context:oe,onStart(ge){const Ue=Y.current;if(Ue==null)return;const Ge=D.get(Ue);if(!Ge)return;const{onDragStart:ct}=G.current,ut={active:{id:Ue,data:Ge.data,rect:V}};Le.unstable_batchedUpdates(()=>{ct==null||ct(ut),x(Me.Initializing),w({type:K.DragStart,initialCoordinates:ge,active:Ue}),R({type:"onDragStart",event:ut})})},onMove(ge){w({type:K.DragMove,coordinates:ge})},onEnd:Se(K.DragEnd),onCancel:Se(K.DragCancel)});Le.unstable_batchedUpdates(()=>{me(re),te(q.nativeEvent)});function Se(ge){return async function(){const{active:Ge,collisions:ct,over:ut,scrollAdjustedTranslate:sn}=oe.current;let Xe=null;if(Ge&&sn){const{cancelDrop:qe}=G.current;Xe={activatorEvent:H,active:Ge,collisions:ct,delta:sn,over:ut},ge===K.DragEnd&&typeof qe=="function"&&await Promise.resolve(qe(Xe))&&(ge=K.DragCancel)}Y.current=null,Le.unstable_batchedUpdates(()=>{w({type:ge}),x(Me.Uninitialized),Ve(null),me(null),te(null);const qe=ge===K.DragEnd?"onDragEnd":"onDragCancel";if(Xe){const At=G.current[qe];At==null||At(Xe),R({type:qe,event:Xe})}})}}},[D]),We=o.useCallback((q,S)=>(m,O)=>{const C=m.nativeEvent,H=D.get(O);if(Y.current!==null||!H||C.dndKit||C.defaultPrevented)return;const re={active:H};q(m,S.options,re)===!0&&(C.dndKit={capturedBy:S.sensor},Y.current=O,lt(m,S))},[D,lt]),He=na(d,We);ua(d),pe(()=>{z&&p===Me.Initializing&&x(Me.Initialized)},[z,p]),o.useEffect(()=>{const{onDragMove:q}=G.current,{active:S,activatorEvent:m,collisions:O,over:C}=oe.current;if(!S||!m)return;const H={active:S,activatorEvent:m,collisions:O,delta:{x:$e.x,y:$e.y},over:C};Le.unstable_batchedUpdates(()=>{q==null||q(H),R({type:"onDragMove",event:H})})},[$e.x,$e.y]),o.useEffect(()=>{const{active:q,activatorEvent:S,collisions:m,droppableContainers:O,scrollAdjustedTranslate:C}=oe.current;if(!q||Y.current==null||!S||!C)return;const{onDragOver:H}=G.current,re=O.get(Ae),Se=re&&re.rect.current?{id:re.id,rect:re.rect.current,data:re.data,disabled:re.disabled}:null,ge={active:q,activatorEvent:S,collisions:m,delta:{x:C.x,y:C.y},over:Se};Le.unstable_batchedUpdates(()=>{Ve(Se),H==null||H(ge),R({type:"onDragOver",event:ge})})},[Ae]),pe(()=>{oe.current={activatorEvent:U,active:W,activeNode:B,collisionRect:Ce,collisions:Re,droppableRects:_,draggableNodes:D,draggingNode:Ie,draggingNodeRect:xe,droppableContainers:j,over:ye,scrollableAncestors:ae,scrollAdjustedTranslate:$e},V.current={initial:xe,translated:Ce}},[W,B,Re,Ce,D,Ie,xe,_,j,ye,ae,$e]),Qi({...A,delta:L,draggingRect:Ce,pointerCoordinates:_e,scrollableAncestors:ae,scrollableAncestorRects:fe});const $t=o.useMemo(()=>({active:W,activeNode:B,activeNodeRect:z,activatorEvent:U,collisions:Re,containerNodeRect:we,dragOverlay:le,draggableNodes:D,droppableContainers:j,droppableRects:_,over:ye,measureDroppableContainers:J,scrollableAncestors:ae,scrollableAncestorRects:fe,measuringConfiguration:P,measuringScheduled:X,windowRect:Ee}),[W,B,z,U,Re,we,le,D,j,_,ye,J,ae,fe,P,X,Ee]),Mt=o.useMemo(()=>({activatorEvent:U,activators:He,active:W,activeNodeRect:z,ariaDescribedById:{draggable:N},dispatch:w,draggableNodes:D,over:ye,measureDroppableContainers:J}),[U,He,W,z,w,N,D,ye,J]);return ie.createElement(kn.Provider,{value:b},ie.createElement(Rt.Provider,{value:Mt},ie.createElement(Gn.Provider,{value:$t},ie.createElement(Xn.Provider,{value:Nt},u)),ie.createElement(wa,{disabled:(s==null?void 0:s.restoreFocus)===!1})),ie.createElement(xi,{...s,hiddenTextDescribedById:N}));function Ot(){const q=(de==null?void 0:de.autoScrollEnabled)===!1,S=typeof c=="object"?c.enabled===!1:c===!1,m=I&&!q&&!S;return typeof c=="object"?{...c,enabled:m}:{enabled:m}}}),Da=o.createContext(null),Rn="button",Ia="Droppable";function Na(e){let{id:t,data:n,disabled:r=!1,attributes:i}=e;const a=at(Ia),{activators:l,activatorEvent:s,active:c,activeNodeRect:u,ariaDescribedById:d,draggableNodes:f,over:h}=o.useContext(Rt),{role:g=Rn,roleDescription:$="draggable",tabIndex:v=0}=i??{},y=(c==null?void 0:c.id)===t,w=o.useContext(y?Xn:Da),[R,b]=bt(),[p,x]=bt(),I=da(l,t),E=et(n);pe(()=>(f.set(t,{id:t,key:a,node:R,activatorNode:p,data:E}),()=>{const L=f.get(t);L&&L.key===a&&f.delete(t)}),[f,t]);const D=o.useMemo(()=>({role:g,tabIndex:v,"aria-disabled":r,"aria-pressed":y&&g===Rn?!0:void 0,"aria-roledescription":$,"aria-describedby":d.draggable}),[r,g,v,y,$,d.draggable]);return{active:c,activatorEvent:s,activeNodeRect:u,attributes:D,isDragging:y,listeners:r?void 0:I,node:R,over:h,setNodeRef:b,setActivatorNodeRef:x,transform:w}}function $a(){return o.useContext(Gn)}const Ma="Droppable",Oa={timeout:25};function Aa(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:i}=e;const a=at(Ma),{active:l,dispatch:s,over:c,measureDroppableContainers:u}=o.useContext(Rt),d=o.useRef({disabled:n}),f=o.useRef(!1),h=o.useRef(null),g=o.useRef(null),{disabled:$,updateMeasurementsFor:v,timeout:y}={...Oa,...i},w=et(v??r),R=o.useCallback(()=>{if(!f.current){f.current=!0;return}g.current!=null&&clearTimeout(g.current),g.current=setTimeout(()=>{u(Array.isArray(w.current)?w.current:[w.current]),g.current=null},y)},[y]),b=Ct({callback:R,disabled:$||!l}),p=o.useCallback((D,L)=>{b&&(L&&(b.unobserve(L),f.current=!1),D&&b.observe(D))},[b]),[x,I]=bt(p),E=et(t);return o.useEffect(()=>{!b||!x.current||(b.disconnect(),f.current=!1,b.observe(x.current))},[x,b]),pe(()=>(s({type:K.RegisterDroppable,element:{id:r,key:a,disabled:n,node:x,rect:h,data:E}}),()=>s({type:K.UnregisterDroppable,key:a,id:r})),[r]),o.useEffect(()=>{n!==d.current.disabled&&(s({type:K.SetDroppableDisabled,id:r,key:a,disabled:n}),d.current.disabled=n)},[r,a,n,s]),{active:l,rect:h,isOver:(c==null?void 0:c.id)===r,node:x,over:c,setNodeRef:I}}const Ta=e=>{let{transform:t}=e;return{...t,x:0}};function on(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function ka(e,t){return e.reduce((n,r,i)=>{const a=t.get(r);return a&&(n[i]=a),n},Array(e.length))}function ft(e){return e!==null&&e>=0}function La(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function ja(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const qn=e=>{let{rects:t,activeIndex:n,overIndex:r,index:i}=e;const a=on(t,r,n),l=t[i],s=a[i];return!s||!l?null:{x:s.left-l.left,y:s.top-l.top,scaleX:s.width/l.width,scaleY:s.height/l.height}},gt={scaleX:1,scaleY:1},Ba=e=>{var t;let{activeIndex:n,activeNodeRect:r,index:i,rects:a,overIndex:l}=e;const s=(t=a[n])!=null?t:r;if(!s)return null;if(i===n){const u=a[l];return u?{x:0,y:n<l?u.top+u.height-(s.top+s.height):u.top-s.top,...gt}:null}const c=za(a,i,n);return i>n&&i<=l?{x:0,y:-s.height-c,...gt}:i<n&&i>=l?{x:0,y:s.height+c,...gt}:{x:0,y:0,...gt}};function za(e,t,n){const r=e[t],i=e[t-1],a=e[t+1];return r?n<t?i?r.top-(i.top+i.height):a?a.top-(r.top+r.height):0:a?a.top-(r.top+r.height):i?r.top-(i.top+i.height):0:0}const Kn="Sortable",Yn=ie.createContext({activeIndex:-1,containerId:Kn,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:qn,disabled:{draggable:!1,droppable:!1}});function Fa(e){let{children:t,id:n,items:r,strategy:i=qn,disabled:a=!1}=e;const{active:l,dragOverlay:s,droppableRects:c,over:u,measureDroppableContainers:d}=$a(),f=at(Kn,n),h=s.rect!==null,g=o.useMemo(()=>r.map(I=>typeof I=="object"&&"id"in I?I.id:I),[r]),$=l!=null,v=l?g.indexOf(l.id):-1,y=u?g.indexOf(u.id):-1,w=o.useRef(g),R=!La(g,w.current),b=y!==-1&&v===-1||R,p=ja(a);pe(()=>{R&&$&&d(g)},[R,g,$,d]),o.useEffect(()=>{w.current=g},[g]);const x=o.useMemo(()=>({activeIndex:v,containerId:f,disabled:p,disableTransforms:b,items:g,overIndex:y,useDragOverlay:h,sortedRects:ka(g,c),strategy:i}),[v,f,p.draggable,p.droppable,b,g,y,c,h,i]);return ie.createElement(Yn.Provider,{value:x},t)}const Pa=e=>{let{id:t,items:n,activeIndex:r,overIndex:i}=e;return on(n,r,i).indexOf(t)},_a=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:i,items:a,newIndex:l,previousItems:s,previousContainerId:c,transition:u}=e;return!u||!r||s!==a&&i===l?!1:n?!0:l!==i&&t===c},Va={duration:200,easing:"ease"},Jn="transform",Wa=tt.Transition.toString({property:Jn,duration:0,easing:"linear"}),Ha={roleDescription:"sortable"};function Ua(e){let{disabled:t,index:n,node:r,rect:i}=e;const[a,l]=o.useState(null),s=o.useRef(n);return pe(()=>{if(!t&&n!==s.current&&r.current){const c=i.current;if(c){const u=Fe(r.current,{ignoreTransform:!0}),d={x:c.left-u.left,y:c.top-u.top,scaleX:c.width/u.width,scaleY:c.height/u.height};(d.x||d.y)&&l(d)}}n!==s.current&&(s.current=n)},[t,n,r,i]),o.useEffect(()=>{a&&l(null)},[a]),a}function Ga(e){let{animateLayoutChanges:t=_a,attributes:n,disabled:r,data:i,getNewIndex:a=Pa,id:l,strategy:s,resizeObserverConfig:c,transition:u=Va}=e;const{items:d,containerId:f,activeIndex:h,disabled:g,disableTransforms:$,sortedRects:v,overIndex:y,useDragOverlay:w,strategy:R}=o.useContext(Yn),b=Xa(r,g),p=d.indexOf(l),x=o.useMemo(()=>({sortable:{containerId:f,index:p,items:d},...i}),[f,i,p,d]),I=o.useMemo(()=>d.slice(d.indexOf(l)),[d,l]),{rect:E,node:D,isOver:L,setNodeRef:j}=Aa({id:l,data:x,disabled:b.droppable,resizeObserverConfig:{updateMeasurementsFor:I,...c}}),{active:M,activatorEvent:V,activeNodeRect:W,attributes:Y,setNodeRef:de,listeners:me,isDragging:U,over:te,setActivatorNodeRef:G,transform:N}=Na({id:l,data:x,attributes:{...Ha,...n},disabled:b.draggable}),k=ci(j,de),P=!!M,_=P&&!$&&ft(h)&&ft(y),J=!w&&U,X=J&&_?N:null,ne=_?X??(s??R)({rects:v,activeNodeRect:W,activeIndex:h,overIndex:y,index:p}):null,A=ft(h)&&ft(y)?a({id:l,items:d,activeIndex:h,overIndex:y}):p,Q=M==null?void 0:M.id,z=o.useRef({activeId:Q,items:d,newIndex:A,containerId:f}),we=d!==z.current.items,oe=t({active:M,containerId:f,isDragging:U,isSorting:P,id:l,index:p,items:d,newIndex:z.current.newIndex,previousItems:z.current.items,previousContainerId:z.current.containerId,transition:u,wasDragging:z.current.activeId!=null}),be=Ua({disabled:!oe,index:p,node:D,rect:E});return o.useEffect(()=>{P&&z.current.newIndex!==A&&(z.current.newIndex=A),f!==z.current.containerId&&(z.current.containerId=f),d!==z.current.items&&(z.current.items=d)},[P,A,f,d]),o.useEffect(()=>{if(Q===z.current.activeId)return;if(Q&&!z.current.activeId){z.current.activeId=Q;return}const Ie=setTimeout(()=>{z.current.activeId=Q},50);return()=>clearTimeout(Ie)},[Q]),{active:M,activeIndex:h,attributes:Y,data:x,rect:E,index:p,newIndex:A,items:d,isOver:L,isSorting:P,isDragging:U,listeners:me,node:D,overIndex:y,over:te,setNodeRef:k,setActivatorNodeRef:G,setDroppableNodeRef:j,setDraggableNodeRef:de,transform:be??ne,transition:le()};function le(){if(be||we&&z.current.newIndex===p)return Wa;if(!(J&&!en(V)||!u)&&(P||oe))return tt.Transition.toString({...u,property:Jn})}}function Xa(e,t){var n,r;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e==null?void 0:e.draggable)!=null?n:t.draggable,droppable:(r=e==null?void 0:e.droppable)!=null?r:t.droppable}}F.Down,F.Right,F.Up,F.Left;const qa=({columns:e,data:t,isLoading:n})=>{const r=t==null?void 0:t.map((i,a)=>({...i,key:a+1}));return T.jsx("div",{children:n?T.jsx(_t,{rowKey:"key",pagination:!1,dataSource:[...Array(9)].map((i,a)=>({key:`key${a}`})),columns:e.map(i=>({...i,render:function(){return T.jsx(Lr,{title:!0,active:!0,paragraph:!1},i.key)}}))}):T.jsx(_t,{rowKey:"key",dataSource:r,columns:e})})},Ka=ie.memo(({...e})=>{const{attributes:t,listeners:n,setNodeRef:r,transform:i,transition:a,isDragging:l}=Ga({id:e["data-row-key"]}),s=o.useMemo(()=>({...e.style,transform:tt.Translate.toString(i),transition:a,cursor:"move",...l?{position:"relative",zIndex:9999}:{}}),[e.style,i,a,l]);return T.jsx("tr",{...e,ref:r,style:s,...t,...n})}),Ya=ie.memo(({editing:e,dataIndex:t,title:n,type:r,optionSelect:i,children:a,...l})=>{const s=o.useMemo(()=>{switch(r){case"number":return T.jsx(pt,{className:"w-full",placeholder:n});case"price":return T.jsx(pt,{className:"w-full",min:0,step:5e4,formatter:c=>`${c}`.replace(/\B(?=(\d{3})+(?!\d))/g,","),parser:c=>c==null?void 0:c.replace(/\$\s?|(,*)/g,""),placeholder:n});case"percent":return T.jsx(pt,{className:"w-full",min:0,max:100,placeholder:n});case"select-multi":return T.jsx(Lt,{allowClear:!0,mode:"multiple",placeholder:n,options:i});case"select":return T.jsx(Lt,{placeholder:n,options:i});case"tag":return T.jsx(Lt,{mode:"tags",placeholder:n});default:return T.jsx(jr,{placeholder:n})}},[r,n,i]);return T.jsx("td",{...l,children:e?T.jsx(Vt.Item,{name:t,style:{margin:0},children:s}):a})}),oo=({Api:e,ApiSearch:t,search:n,ApiPut:r,total:i,dragMode:a=!0,loading:l,data:s,columns:c,onSave:u,onDelete:d,button:f,colEdit:h=!0,isScroll:g=!0,scroll:$,width:v,isSearch:y=!1,isPagination:w=!0})=>{var te,G;const R=pr(),b=vr(),[p]=Vt.useForm(),[x,I]=o.useState(""),[E,D]=o.useState(localStorage.getItem("pageSize")||10),[L,j]=o.useState(localStorage.getItem((G=(te=b==null?void 0:b.pathname)==null?void 0:te.split("/"))==null?void 0:G.pop())||1),M=o.useCallback(N=>N.key===x,[x]),V=o.useCallback(N=>{p.setFieldsValue(N),I(N.key)},[p]),W=o.useCallback(()=>I(""),[]),Y=o.useCallback(async()=>{try{const N=await p.validateFields();u({...N,id:x}),I("")}catch(N){mr(N,"Lưu thay đổi thất bại !","Vui lòng kiểm tra lại thông tin !")}},[p,u,x]),de=Ci(Ei(an,{activationConstraint:{distance:1}})),me=o.useCallback(({active:N,over:k})=>{if(N.id!==(k==null?void 0:k.id)){const P=on(s,s.findIndex(B=>B.key===N.id),s.findIndex(B=>B.key===(k==null?void 0:k.id))),_=Math.max(...s.map(B=>B.order)),X=P.map((B,ne)=>({...B,order:_-ne})).map(({_id:B,order:ne})=>({_id:B,order:ne}));R(r(X)),br("drag","Thay đổi vị trí thành công !","Dữ liệu đã được cập nhật !")}},[s]),U=o.useMemo(()=>c.map(N=>N.editable?{...N,onCell:k=>({record:k,type:N.type||"text",optionSelect:N.type==="select"||N.type==="select-multi"?N.optionSelect:void 0,dataIndex:N.dataIndex,title:N.title,editing:M(k),required:N.required||!0})}:N),[c,M]);return yr(o.useCallback(()=>{var N,k;localStorage.setItem((k=(N=b==null?void 0:b.pathname)==null?void 0:N.split("/"))==null?void 0:k.pop(),1)},[b])),T.jsx(Vt,{form:p,component:!1,children:l?T.jsx(qa,{columns:c,data:s,isLoading:l}):T.jsx(Ra,{sensors:de,modifiers:[Ta],onDragEnd:me,children:T.jsx(Fa,{items:s==null?void 0:s.map(N=>N.key),strategy:Ba,children:T.jsx(_t,{components:{body:{cell:Ya,row:a?Ka:void 0}},bordered:!0,dataSource:s,columns:[...U,...(s==null?void 0:s.length)>=1&&h!==!1?[{title:"Sửa",dataIndex:"operation",width:v||"7%",fixed:"right",render:(N,k)=>M(k)?T.jsxs("span",{className:"flex justify-center gap-3",style:{cursor:"pointer"},children:[T.jsx(dt.Text,{type:"danger",onClick:W,children:T.jsx(Sr,{size:22})}),T.jsx(dn,{placement:"bottomRight",title:"Bạn có chắc muốn lưu thay đổi",onConfirm:Y,children:T.jsx(dt.Text,{type:"success",children:T.jsx(wr,{size:22})})})]}):T.jsxs("div",{className:"flex justify-center items-center gap-3",style:{cursor:"pointer"},children:[f&&typeof f=="function"?f(k):null,T.jsx(cn,{title:"Chỉnh thông tin",children:T.jsx(dt.Link,{disabled:x!=="",onClick:()=>V(k),children:T.jsx(xr,{size:22})})}),T.jsx(dn,{disabled:x!=="",placement:"bottomRight",title:"Bạn có chắc muốn xóa !",onConfirm:()=>d(k._id),children:T.jsx(cn,{title:"Xóa thông tin",children:T.jsx(dt.Text,{type:"danger",disabled:x!=="",children:T.jsx(Er,{size:22})})})})]})}]:[]],rowClassName:"editable-row",onChange:(N,k,P,_)=>{var ne,A;const J=Object.values(k).every(Q=>Q===null),{current:X,pageSize:B}=N;J&&(R(y?t({...n,page:X,limit:B}):e({page:X,limit:B})),D(B),j(X),localStorage.setItem((A=(ne=b==null?void 0:b.pathname)==null?void 0:ne.split("/"))==null?void 0:A.pop(),X))},pagination:w?{showTotal:(N,k)=>`Hiển thị ${k[0]}-${k[1]} trong ${N} mục`,current:L,pageSize:Number(E),total:i,showSizeChanger:!0,pageSizeOptions:[10,20,50,100,200]}:!1,scroll:g?$||{x:1200,y:"calc(100vh - 255px)"}:void 0,footer:()=>T.jsx("div",{className:"h-5"})})})})})};export{oo as E,pt as T};
