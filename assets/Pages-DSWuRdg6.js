import{u as g,a as x,r as i,p as E,t as v,j as c,S as b}from"./index-xq1IhvnX.js";import{L as j}from"./Layout-BjKrrWr3.js";import{c as w}from"./contact-CsaWXdoe.js";import{R as C}from"./index-B7p7VXNI.js";import"./index-fL_rF7-I.js";import"./index-BCPS-Hci.js";import"./useVariants-BIfgDl13.js";import"./EllipsisOutlined-rXpF71Wb.js";import"./Overflow-DfJmp3ND.js";import"./CheckOutlined-ElLJZnRB.js";const W=()=>{var p;const{"*":u}=g(),m=x(),[t,h]=i.useState(null),[S,f]=i.useState(!0);i.useEffect(()=>{window.location.pathname==="/"?E.sig("trang-chu").then(e=>{h(e),f(!1),window.scrollTo(0,0)}).catch(()=>{m("/404")}):E.sig(u,"page").then(e=>{h(e),f(!1),window.scrollTo(0,0)}).catch(()=>{m("/404")})},[u,m]);const l=i.useCallback(e=>{e.preventDefault();const o=e.target,s=new FormData(o),n={};s.forEach((r,a)=>{n[a]=r}),w.put({filename:t==null?void 0:t.name,data:n}).then(()=>{v("sendData","Cảm ơn bạn đã gửi thông tin!","Chúng tôi sẽ liên hệ với bạn trong thời gian sớm nhất!")}).catch(()=>{v("sendData","Có lỗi xảy ra!","Vui lòng thử lại sau!")}),o.reset()},[t]);return i.useEffect(()=>{var a,y;const e=document.getElementById("dynamic-styles");e&&e.remove();const o=document.getElementById("dynamic-script");o&&o.remove();const s=document.createElement("style");s.id="dynamic-styles",s.innerHTML=(a=t==null?void 0:t.content)==null?void 0:a.css,document.head.appendChild(s);const n=document.createElement("script");n.id="dynamic-script",n.innerHTML=(y=t==null?void 0:t.content)==null?void 0:y.js,document.body.appendChild(n);const r=document.querySelectorAll("form");return r.forEach(d=>{d.addEventListener("submit",l)}),()=>{s.remove(),n.remove(),r.forEach(d=>{d.removeEventListener("submit",l)})}},[t,l]),c.jsx(j,{title:(t==null?void 0:t.name)||"Chicken War Studio",description:(t==null?void 0:t.description)||"Chicken War Studio",keywords:(t==null?void 0:t.keywords)||"Chicken War Studio",children:S?c.jsx(b,{}):t!=null&&t.content?c.jsx("div",{id:"page-content",dangerouslySetInnerHTML:{__html:(p=t==null?void 0:t.content)==null?void 0:p.html}}):c.jsx("section",{children:c.jsx(C,{status:"403",title:"Không có dữ liệu!",subTitle:"Trang chưa được thêm dữ liệu vào trong, vui lòng thêm dữ liệu vào!"})})})};export{W as default};
