import{bl as S,bk as j}from"./index-BEMMc-Wv.js";var P={exports:{}};/*! grapesjs-plugin-ckeditor - 1.0.1 */(function(T,R){(function(s,u){T.exports=u()})(typeof globalThis<"u"?globalThis:typeof window<"u"?window:S,()=>(()=>{var s={d:(t,n)=>{for(var o in n)s.o(n,o)&&!s.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})},o:(t,n)=>Object.prototype.hasOwnProperty.call(t,n),r:t=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},u={};s.r(u),s.d(u,{default:()=>O});var d=function(){return d=Object.assign||function(t){for(var n,o=1,g=arguments.length;o<g;o++)for(var l in n=arguments[o])Object.prototype.hasOwnProperty.call(n,l)&&(t[l]=n[l]);return t},d.apply(this,arguments)},b=function(t,n){[].forEach.call(t,n)},h=function(t){return t.stopPropagation()};const O=function(t,n){n===void 0&&(n={});var o,g,l,f=d({options:{},customRte:{},position:"left",ckeditor:"https://cdn.ckeditor.com/4.21.0/standard-all/ckeditor.js",onToolbar:function(){}},n),p=f.ckeditor,m=typeof window<"u",w=!1;p?typeof p=="string"?m&&(w=!0,(g=p,(l=document.createElement("script")).src=g,document.head.appendChild(l),l).onload=function(){o=window.CKEDITOR}):p.inline&&(o=p):m&&(o=window.CKEDITOR);var v=function(){return setTimeout(function(){return t.refresh()},0)},k=function(){t.log("CKEDITOR instance not found",{level:"error"})};if(!o&&!w)return k();var x=function(r,e){var a;!((a=e==null?void 0:e.focusManager)===null||a===void 0)&&a.hasFocus||(r.contentEditable="true",e==null||e.focus(),v())};t.setCustomRte(d({getContent:function(r,e){return e.getData()},enable:function(r,e){if(e&&e.status!="destroyed")return x(r,e),e;if(o){var a=t.RichTextEditor.getToolbarEl();b(a.children,function(i){i.style.display="none"});var c=d({},f.options),y="sharedspace";return c.extraPlugins?typeof c.extraPlugins=="string"?c.extraPlugins+=",".concat(y):Array.isArray(c.extraPlugins)&&c.extraPlugins.push(y):c.extraPlugins=y,c.sharedSpaces||(c.sharedSpaces={top:a}),(e=o.inline(r,c)).on("contentDom",function(){var i=e.editable();i.attachListener(i,"click",function(){return r.click()})}),e.on("instanceReady",function(){var i=a.querySelector("#cke_".concat(e.name));i&&(i.style.display="block",f.onToolbar(i)),t.refresh(),v()}),e.on("dialogShow",function(){var i=document.querySelectorAll(".cke_dialog_background_cover, .cke_dialog_container");b(i,function(E){E.removeEventListener("mousedown",h),E.addEventListener("mousedown",h)})}),e.on("key",function(i){i.data.keyCode===13&&v()}),x(r,e),e}k()},disable:function(r,e){var a;r.contentEditable="false",(a=e==null?void 0:e.focusManager)===null||a===void 0||a.blur(!0)}},f.customRte)),t.on("rteToolbarPosUpdate",function(r){var e=r.elRect;switch(f.position){case"center":r.left=e.width/2-r.targetWidth/2;break;case"right":r.left="",r.right=0}})};return u})())})(P);var C=P.exports;const D=j(C);export{D as p};
