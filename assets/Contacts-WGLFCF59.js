import{r as n,ca as j,j as o}from"./index-XO_e58Ix.js";import{c as f}from"./contact-hyNi34m-.js";import{b7 as b}from"./Layout-DXWOGTyT.js";import{E as x}from"./Table-dP2XIcbo.js";import{T as O}from"./index-29i8oyFT.js";import"./index-DkPaNEOj.js";import"./index-DxdoIs5n.js";import"./useVariants-CsMAhLjD.js";import"./EllipsisOutlined-Djq8wM5c.js";import"./Overflow-NiKfVzai.js";import"./CheckOutlined-5NHR29ls.js";import"./index-C0VCRbK7.js";import"./index-77pOG4pZ.js";import"./index-DSoyN8jH.js";import"./index-lzr6e5Gt.js";import"./index-zMQpAQ_1.js";import"./SearchOutlined-DiIMcydI.js";import"./Table-g4hurqCm.js";import"./iconUtil-Bf_DyMct.js";import"./index-BoR9LL1P.js";import"./index-kdFebtuv.js";import"./index-D1P3xe9P.js";import"./index-BQIq8Tls.js";import"./index-DopQ4mG_.js";const K=()=>{const[r,h]=n.useState(),[u,c]=n.useState([]),[g,p]=n.useState([]);return n.useEffect(()=>{j.filesInFolder({folderName:"uploads/contacts"}).then(a=>{const e=a.newData.children;if(h(e),e.length>0){const s=e[0].name.split(".")[0];return f.get({filename:s}).then(d=>{e[0]={...e[0],details:d},c(e[0].details.data);const l=e[0].details.data.reduce((t,i)=>Object.keys(t).length>Object.keys(i).length?t:i),m=Object.keys(l).map(t=>({title:t.charAt(0).toUpperCase()+t.slice(1),dataIndex:t,key:t}));p(m)})}return e}).catch(a=>console.log(a))},[]),o.jsx(b,{title:"Liên hệ",header:"LIÊN HỆ",children:o.jsx(O,{onChange:a=>{f.get({filename:a.split(".")[0]}).then(e=>{r.map((s,d)=>{if(s.name===a){s.details=e,c(s.details.data);const l=s.details.data.reduce((t,i)=>Object.keys(t).length>Object.keys(i).length?t:i),m=Object.keys(l).map(t=>({title:t.charAt(0).toUpperCase()+t.slice(1),dataIndex:t,key:t}));p(m)}})})},type:"card",tabPosition:"left",items:r==null?void 0:r.map((a,e)=>({label:a.name,key:a.name,children:o.jsx(o.Fragment,{children:o.jsx(x,{colEdit:!1,dragMode:!1,data:u,columns:g})})}))})})};export{K as default};
