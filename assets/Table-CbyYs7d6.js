import{r as o,I as Qn,J as Ze,bz as Dn,bx as Nn,a7 as Q,bj as Zn,ac as Ke,cj as er,dd as tr,ae as mt,P as De,af as In,ah as nr,dc as Tt,ck as rr,aj as ir,K as ar,L as or,aF as kt,M as ue,cv as sr,O as lr,ao as cr,bl as ur,bm as dr,bo as fr,bp as gr,ct as ln,aO as hr,H as ne,bG as Le,j as A,c as pr,k as vr,t as mr,as as cn}from"./index-CPBF7azd.js";import{T as dt,af as br,I as yr,z as Sr,B as wr}from"./index-BHMnDpbp.js";import{F as _t}from"./Table-B5D3q3rB.js";import{l as xr,t as Er,c as Cr,i as Rr,h as $n,m as Dr,n as Nr,o as Ir,q as $r,r as Mr,s as Or,v as Ar,S as Tr}from"./index-DyMsIEIg.js";import{I as kr}from"./index-DjHjjRka.js";import{R as Lr,S as Lt}from"./index-D-mep5xd.js";import{d as jr,u as Br,a as un,b as zr}from"./useVariants-Ze9mRC4L.js";import{F as Vt}from"./index-CZw2qTD0.js";import{P as dn}from"./index-BSWmn8Nf.js";var Fr={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M890.5 755.3L537.9 269.2c-12.8-17.6-39-17.6-51.7 0L133.5 755.3A8 8 0 00140 768h75c5.1 0 9.9-2.5 12.9-6.6L512 369.8l284.1 391.6c3 4.1 7.8 6.6 12.9 6.6h75c6.5 0 10.3-7.4 6.5-12.7z"}}]},name:"up",theme:"outlined"},Pr=function(t,n){return o.createElement(Qn,Ze({},t,{ref:n,icon:Fr}))},_r=o.forwardRef(Pr);function Wt(){return typeof BigInt=="function"}function Mn(e){return!e&&e!==0&&!Number.isNaN(e)||!String(e).trim()}function ke(e){var t=e.trim(),n=t.startsWith("-");n&&(t=t.slice(1)),t=t.replace(/(\.\d*[^0])0*$/,"$1").replace(/\.0*$/,"").replace(/^0+/,""),t.startsWith(".")&&(t="0".concat(t));var r=t||"0",i=r.split("."),a=i[0]||"0",s=i[1]||"0";a==="0"&&s==="0"&&(n=!1);var l=n?"-":"";return{negative:n,negativeStr:l,trimStr:r,integerStr:a,decimalStr:s,fullStr:"".concat(l).concat(r)}}function Kt(e){var t=String(e);return!Number.isNaN(Number(t))&&t.includes("e")}function Te(e){var t=String(e);if(Kt(e)){var n=Number(t.slice(t.indexOf("e-")+2)),r=t.match(/\.(\d+)/);return r!=null&&r[1]&&(n+=r[1].length),n}return t.includes(".")&&Yt(t)?t.length-t.indexOf(".")-1:0}function xt(e){var t=String(e);if(Kt(e)){if(e>Number.MAX_SAFE_INTEGER)return String(Wt()?BigInt(e).toString():Number.MAX_SAFE_INTEGER);if(e<Number.MIN_SAFE_INTEGER)return String(Wt()?BigInt(e).toString():Number.MIN_SAFE_INTEGER);t=e.toFixed(Te(t))}return ke(t).fullStr}function Yt(e){return typeof e=="number"?!Number.isNaN(e):e?/^\s*-?\d+(\.\d+)?\s*$/.test(e)||/^\s*-?\d+\.\s*$/.test(e)||/^\s*-?\.\d+\s*$/.test(e):!1}var Vr=function(){function e(t){if(Nn(this,e),Q(this,"origin",""),Q(this,"negative",void 0),Q(this,"integer",void 0),Q(this,"decimal",void 0),Q(this,"decimalLen",void 0),Q(this,"empty",void 0),Q(this,"nan",void 0),Mn(t)){this.empty=!0;return}if(this.origin=String(t),t==="-"||Number.isNaN(t)){this.nan=!0;return}var n=t;if(Kt(n)&&(n=Number(n)),n=typeof n=="string"?n:xt(n),Yt(n)){var r=ke(n);this.negative=r.negative;var i=r.trimStr.split(".");this.integer=BigInt(i[0]);var a=i[1]||"0";this.decimal=BigInt(a),this.decimalLen=a.length}else this.nan=!0}return Dn(e,[{key:"getMark",value:function(){return this.negative?"-":""}},{key:"getIntegerStr",value:function(){return this.integer.toString()}},{key:"getDecimalStr",value:function(){return this.decimal.toString().padStart(this.decimalLen,"0")}},{key:"alignDecimal",value:function(n){var r="".concat(this.getMark()).concat(this.getIntegerStr()).concat(this.getDecimalStr().padEnd(n,"0"));return BigInt(r)}},{key:"negate",value:function(){var n=new e(this.toString());return n.negative=!n.negative,n}},{key:"cal",value:function(n,r,i){var a=Math.max(this.getDecimalStr().length,n.getDecimalStr().length),s=this.alignDecimal(a),l=n.alignDecimal(a),c=r(s,l).toString(),u=i(a),d=ke(c),f=d.negativeStr,h=d.trimStr,g="".concat(f).concat(h.padStart(u+1,"0"));return new e("".concat(g.slice(0,-u),".").concat(g.slice(-u)))}},{key:"add",value:function(n){if(this.isInvalidate())return new e(n);var r=new e(n);return r.isInvalidate()?this:this.cal(r,function(i,a){return i+a},function(i){return i})}},{key:"multi",value:function(n){var r=new e(n);return this.isInvalidate()||r.isInvalidate()?new e(NaN):this.cal(r,function(i,a){return i*a},function(i){return i*2})}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return this.nan}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(n){return this.toString()===(n==null?void 0:n.toString())}},{key:"lessEquals",value:function(n){return this.add(n.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.isNaN()?NaN:Number(this.toString())}},{key:"toString",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return n?this.isInvalidate()?"":ke("".concat(this.getMark()).concat(this.getIntegerStr(),".").concat(this.getDecimalStr())).fullStr:this.origin}}]),e}(),Wr=function(){function e(t){if(Nn(this,e),Q(this,"origin",""),Q(this,"number",void 0),Q(this,"empty",void 0),Mn(t)){this.empty=!0;return}this.origin=String(t),this.number=Number(t)}return Dn(e,[{key:"negate",value:function(){return new e(-this.toNumber())}},{key:"add",value:function(n){if(this.isInvalidate())return new e(n);var r=Number(n);if(Number.isNaN(r))return this;var i=this.number+r;if(i>Number.MAX_SAFE_INTEGER)return new e(Number.MAX_SAFE_INTEGER);if(i<Number.MIN_SAFE_INTEGER)return new e(Number.MIN_SAFE_INTEGER);var a=Math.max(Te(this.number),Te(r));return new e(i.toFixed(a))}},{key:"multi",value:function(n){var r=Number(n);if(this.isInvalidate()||Number.isNaN(r))return new e(NaN);var i=this.number*r;if(i>Number.MAX_SAFE_INTEGER)return new e(Number.MAX_SAFE_INTEGER);if(i<Number.MIN_SAFE_INTEGER)return new e(Number.MIN_SAFE_INTEGER);var a=Math.max(Te(this.number),Te(r));return new e(i.toFixed(a))}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return Number.isNaN(this.number)}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(n){return this.toNumber()===(n==null?void 0:n.toNumber())}},{key:"lessEquals",value:function(n){return this.add(n.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.number}},{key:"toString",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return n?this.isInvalidate()?"":xt(this.number):this.origin}}]),e}();function he(e){return Wt()?new Vr(e):new Wr(e)}function ht(e,t,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(e==="")return"";var i=ke(e),a=i.negativeStr,s=i.integerStr,l=i.decimalStr,c="".concat(t).concat(l),u="".concat(a).concat(s);if(n>=0){var d=Number(l[n]);if(d>=5&&!r){var f=he(e).add("".concat(a,"0.").concat("0".repeat(n)).concat(10-d));return ht(f.toString(),t,n,r)}return n===0?u:"".concat(u).concat(t).concat(l.padEnd(n,"0").slice(0,n))}return c===".0"?u:"".concat(u).concat(c)}function Hr(e,t){return typeof Proxy<"u"&&e?new Proxy(e,{get:function(r,i){if(t[i])return t[i];var a=r[i];return typeof a=="function"?a.bind(r):a}}):e}function Ur(e,t){var n=o.useRef(null);function r(){try{var a=e.selectionStart,s=e.selectionEnd,l=e.value,c=l.substring(0,a),u=l.substring(s);n.current={start:a,end:s,value:l,beforeTxt:c,afterTxt:u}}catch{}}function i(){if(e&&n.current&&t)try{var a=e.value,s=n.current,l=s.beforeTxt,c=s.afterTxt,u=s.start,d=a.length;if(a.startsWith(l))d=l.length;else if(a.endsWith(c))d=a.length-n.current.afterTxt.length;else{var f=l[u-1],h=a.indexOf(f,u-1);h!==-1&&(d=h+1)}e.setSelectionRange(d,d)}catch(g){Zn(!1,"Something warning of cursor restore. Please fire issue about this: ".concat(g.message))}}return[r,i]}var Gr=function(){var t=o.useState(!1),n=Ke(t,2),r=n[0],i=n[1];return er(function(){i(tr())},[]),r},Xr=200,qr=600;function Kr(e){var t=e.prefixCls,n=e.upNode,r=e.downNode,i=e.upDisabled,a=e.downDisabled,s=e.onStep,l=o.useRef(),c=o.useRef([]),u=o.useRef();u.current=s;var d=function(){clearTimeout(l.current)},f=function(w,m){w.preventDefault(),d(),u.current(m);function N(){u.current(m),l.current=setTimeout(N,Xr)}l.current=setTimeout(N,qr)};o.useEffect(function(){return function(){d(),c.current.forEach(function(R){return mt.cancel(R)})}},[]);var h=Gr();if(h)return null;var g="".concat(t,"-handler"),D=De(g,"".concat(g,"-up"),Q({},"".concat(g,"-up-disabled"),i)),p=De(g,"".concat(g,"-down"),Q({},"".concat(g,"-down-disabled"),a)),v=function(){return c.current.push(mt(d))},S={unselectable:"on",role:"button",onMouseUp:v,onMouseLeave:v};return o.createElement("div",{className:"".concat(g,"-wrap")},o.createElement("span",Ze({},S,{onMouseDown:function(w){f(w,!0)},"aria-label":"Increase Value","aria-disabled":i,className:D}),n||o.createElement("span",{unselectable:"on",className:"".concat(t,"-handler-up-inner")})),o.createElement("span",Ze({},S,{onMouseDown:function(w){f(w,!1)},"aria-label":"Decrease Value","aria-disabled":a,className:p}),r||o.createElement("span",{unselectable:"on",className:"".concat(t,"-handler-down-inner")})))}function fn(e){var t=typeof e=="number"?xt(e):ke(e).fullStr,n=t.includes(".");return n?ke(t.replace(/(\d)\.(\d)/g,"$1$2.")).fullStr:e+"0"}const Yr=function(){var e=o.useRef(0),t=function(){mt.cancel(e.current)};return o.useEffect(function(){return t},[]),function(n){t(),e.current=mt(function(){n()})}};var Jr=["prefixCls","className","style","min","max","step","defaultValue","value","disabled","readOnly","upHandler","downHandler","keyboard","changeOnWheel","controls","classNames","stringMode","parser","formatter","precision","decimalSeparator","onChange","onInput","onPressEnter","onStep","changeOnBlur","domRef"],Qr=["disabled","style","prefixCls","value","prefix","suffix","addonBefore","addonAfter","className","classNames"],gn=function(t,n){return t||n.isEmpty()?n.toString():n.toNumber()},hn=function(t){var n=he(t);return n.isInvalidate()?null:n},Zr=o.forwardRef(function(e,t){var n=e.prefixCls,r=e.className,i=e.style,a=e.min,s=e.max,l=e.step,c=l===void 0?1:l,u=e.defaultValue,d=e.value,f=e.disabled,h=e.readOnly,g=e.upHandler,D=e.downHandler,p=e.keyboard,v=e.changeOnWheel,S=v===void 0?!1:v,R=e.controls,w=R===void 0?!0:R;e.classNames;var m=e.stringMode,N=e.parser,$=e.formatter,x=e.precision,C=e.decimalSeparator,L=e.onChange,j=e.onInput,O=e.onPressEnter,P=e.onStep,_=e.changeOnBlur,q=_===void 0?!0:_,I=e.domRef,T=In(e,Jr),V="".concat(n,"-input"),Y=o.useRef(null),J=o.useState(!1),se=Ke(J,2),U=se[0],F=se[1],H=o.useRef(!1),re=o.useRef(!1),le=o.useRef(!1),Z=o.useState(function(){return he(d??u)}),Se=Ke(Z,2),k=Se[0],ee=Se[1];function B(y){d===void 0&&ee(y)}var we=o.useCallback(function(y,b){if(!b)return x>=0?x:Math.max(Te(y),Te(c))},[x,c]),ae=o.useCallback(function(y){var b=String(y);if(N)return N(b);var M=b;return C&&(M=M.replace(C,".")),M.replace(/[^\w.-]+/g,"")},[N,C]),me=o.useRef(""),ce=o.useCallback(function(y,b){if($)return $(y,{userTyping:b,input:String(me.current)});var M=typeof y=="number"?xt(y):y;if(!b){var E=we(M,b);if(Yt(M)&&(C||E>=0)){var W=C||".";M=ht(M,W,E)}}return M},[$,we,C]),Ne=o.useState(function(){var y=u??d;return k.isInvalidate()&&["string","number"].includes(nr(y))?Number.isNaN(y)?"":y:ce(k.toString(),!1)}),xe=Ke(Ne,2),Ie=xe[0],Pe=xe[1];me.current=Ie;function Ee(y,b){Pe(ce(y.isInvalidate()?y.toString(!1):y.toString(!b),b))}var ie=o.useMemo(function(){return hn(s)},[s,x]),fe=o.useMemo(function(){return hn(a)},[a,x]),Oe=o.useMemo(function(){return!ie||!k||k.isInvalidate()?!1:ie.lessEquals(k)},[ie,k]),_e=o.useMemo(function(){return!fe||!k||k.isInvalidate()?!1:k.lessEquals(fe)},[fe,k]),ot=Ur(Y.current,U),st=Ke(ot,2),Dt=st[0],$e=st[1],Ce=function(b){return ie&&!b.lessEquals(ie)?ie:fe&&!fe.lessEquals(b)?fe:null},Re=function(b){return!Ce(b)},Ae=function(b,M){var E=b,W=Re(E)||E.isEmpty();if(!E.isEmpty()&&!M&&(E=Ce(E)||E,W=!0),!h&&!f&&W){var te=E.toString(),ye=we(te,M);return ye>=0&&(E=he(ht(te,".",ye)),Re(E)||(E=he(ht(te,".",ye,!0)))),E.equals(k)||(B(E),L==null||L(E.isEmpty()?null:gn(m,E)),d===void 0&&Ee(E,M)),E}return k},be=Yr(),Ve=function y(b){if(Dt(),me.current=b,Pe(b),!re.current){var M=ae(b),E=he(M);E.isNaN()||Ae(E,!0)}j==null||j(b),be(function(){var W=b;N||(W=b.replace(/。/g,".")),W!==b&&y(W)})},Nt=function(){re.current=!0},It=function(){re.current=!1,Ve(Y.current.value)},lt=function(b){Ve(b.target.value)},We=function(b){var M;if(!(b&&Oe||!b&&_e)){H.current=!1;var E=he(le.current?fn(c):c);b||(E=E.negate());var W=(k||he(0)).add(E.toString()),te=Ae(W,!1);P==null||P(gn(m,te),{offset:le.current?fn(c):c,type:b?"up":"down"}),(M=Y.current)===null||M===void 0||M.focus()}},He=function(b){var M=he(ae(Ie)),E;M.isNaN()?E=Ae(k,b):E=Ae(M,b),d!==void 0?Ee(k,!1):E.isNaN()||Ee(E,!1)},$t=function(){H.current=!0},Mt=function(b){var M=b.key,E=b.shiftKey;H.current=!0,le.current=E,M==="Enter"&&(re.current||(H.current=!1),He(!1),O==null||O(b)),p!==!1&&!re.current&&["Up","ArrowUp","Down","ArrowDown"].includes(M)&&(We(M==="Up"||M==="ArrowUp"),b.preventDefault())},Ot=function(){H.current=!1,le.current=!1};o.useEffect(function(){if(S&&U){var y=function(E){We(E.deltaY<0),E.preventDefault()},b=Y.current;if(b)return b.addEventListener("wheel",y,{passive:!1}),function(){return b.removeEventListener("wheel",y)}}});var G=function(){q&&He(!1),F(!1),H.current=!1};return Tt(function(){k.isInvalidate()||Ee(k,!1)},[x,$]),Tt(function(){var y=he(d);ee(y);var b=he(ae(Ie));(!y.equals(b)||!H.current||$)&&Ee(y,H.current)},[d]),Tt(function(){$&&$e()},[Ie]),o.createElement("div",{ref:I,className:De(n,r,Q(Q(Q(Q(Q({},"".concat(n,"-focused"),U),"".concat(n,"-disabled"),f),"".concat(n,"-readonly"),h),"".concat(n,"-not-a-number"),k.isNaN()),"".concat(n,"-out-of-range"),!k.isInvalidate()&&!Re(k))),style:i,onFocus:function(){F(!0)},onBlur:G,onKeyDown:Mt,onKeyUp:Ot,onCompositionStart:Nt,onCompositionEnd:It,onBeforeInput:$t},w&&o.createElement(Kr,{prefixCls:n,upNode:g,downNode:D,upDisabled:Oe,downDisabled:_e,onStep:We}),o.createElement("div",{className:"".concat(V,"-wrap")},o.createElement("input",Ze({autoComplete:"off",role:"spinbutton","aria-valuemin":a,"aria-valuemax":s,"aria-valuenow":k.isInvalidate()?null:k.toString(),step:c},T,{ref:rr(Y,t),className:V,value:Ie,onChange:lt,disabled:f,readOnly:h}))))}),ei=o.forwardRef(function(e,t){var n=e.disabled,r=e.style,i=e.prefixCls,a=i===void 0?"rc-input-number":i,s=e.value,l=e.prefix,c=e.suffix,u=e.addonBefore,d=e.addonAfter,f=e.className,h=e.classNames,g=In(e,Qr),D=o.useRef(null),p=o.useRef(null),v=o.useRef(null),S=function(w){v.current&&Er(v.current,w)};return o.useImperativeHandle(t,function(){return Hr(v.current,{nativeElement:D.current.nativeElement||p.current})}),o.createElement(xr,{className:f,triggerFocus:S,prefixCls:a,value:s,disabled:n,style:r,prefix:l,suffix:c,addonAfter:d,addonBefore:u,classNames:h,components:{affixWrapper:"div",groupWrapper:"div",wrapper:"div",groupAddon:"div"},ref:D},o.createElement(Zr,Ze({prefixCls:a,disabled:n,ref:v,domRef:p,className:h==null?void 0:h.input},g)))});const ti=e=>{var t;const n=(t=e.handleVisible)!==null&&t!==void 0?t:"auto";return Object.assign(Object.assign({},Cr(e)),{controlWidth:90,handleWidth:e.controlHeightSM-e.lineWidth*2,handleFontSize:e.fontSize/2,handleVisible:n,handleActiveBg:e.colorFillAlter,handleBg:e.colorBgContainer,filledHandleBg:new ir(e.colorFillSecondary).onBackground(e.colorBgContainer).toHexString(),handleHoverColor:e.colorPrimary,handleBorderColor:e.colorBorder,handleOpacity:n===!0?1:0})},pn=(e,t)=>{let{componentCls:n,borderRadiusSM:r,borderRadiusLG:i}=e;const a=t==="lg"?i:r;return{[`&-${t}`]:{[`${n}-handler-wrap`]:{borderStartEndRadius:a,borderEndEndRadius:a},[`${n}-handler-up`]:{borderStartEndRadius:a},[`${n}-handler-down`]:{borderEndEndRadius:a}}}},ni=e=>{const{componentCls:t,lineWidth:n,lineType:r,borderRadius:i,inputFontSizeSM:a,inputFontSizeLG:s,controlHeightLG:l,controlHeightSM:c,colorError:u,paddingInlineSM:d,paddingBlockSM:f,paddingBlockLG:h,paddingInlineLG:g,colorTextDescription:D,motionDurationMid:p,handleHoverColor:v,handleOpacity:S,paddingInline:R,paddingBlock:w,handleBg:m,handleActiveBg:N,colorTextDisabled:$,borderRadiusSM:x,borderRadiusLG:C,controlWidth:L,handleBorderColor:j,filledHandleBg:O,lineHeightLG:P,calc:_}=e;return[{[t]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},kt(e)),$n(e)),{display:"inline-block",width:L,margin:0,padding:0,borderRadius:i}),Dr(e,{[`${t}-handler-wrap`]:{background:m,[`${t}-handler-down`]:{borderBlockStart:`${ue(n)} ${r} ${j}`}}})),Nr(e,{[`${t}-handler-wrap`]:{background:O,[`${t}-handler-down`]:{borderBlockStart:`${ue(n)} ${r} ${j}`}},"&:focus-within":{[`${t}-handler-wrap`]:{background:m}}})),Ir(e)),{"&-rtl":{direction:"rtl",[`${t}-input`]:{direction:"rtl"}},"&-lg":{padding:0,fontSize:s,lineHeight:P,borderRadius:C,[`input${t}-input`]:{height:_(l).sub(_(n).mul(2)).equal(),padding:`${ue(h)} ${ue(g)}`}},"&-sm":{padding:0,fontSize:a,borderRadius:x,[`input${t}-input`]:{height:_(c).sub(_(n).mul(2)).equal(),padding:`${ue(f)} ${ue(d)}`}},"&-out-of-range":{[`${t}-input-wrap`]:{input:{color:u}}},"&-group":Object.assign(Object.assign(Object.assign({},kt(e)),$r(e)),{"&-wrapper":Object.assign(Object.assign(Object.assign({display:"inline-block",textAlign:"start",verticalAlign:"top",[`${t}-affix-wrapper`]:{width:"100%"},"&-lg":{[`${t}-group-addon`]:{borderRadius:C,fontSize:e.fontSizeLG}},"&-sm":{[`${t}-group-addon`]:{borderRadius:x}}},Mr(e)),Or(e)),{[`&:not(${t}-compact-first-item):not(${t}-compact-last-item)${t}-compact-item`]:{[`${t}, ${t}-group-addon`]:{borderRadius:0}},[`&:not(${t}-compact-last-item)${t}-compact-first-item`]:{[`${t}, ${t}-group-addon`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&:not(${t}-compact-first-item)${t}-compact-last-item`]:{[`${t}, ${t}-group-addon`]:{borderStartStartRadius:0,borderEndStartRadius:0}}})}),[`&-disabled ${t}-input`]:{cursor:"not-allowed"},[t]:{"&-input":Object.assign(Object.assign(Object.assign(Object.assign({},kt(e)),{width:"100%",padding:`${ue(w)} ${ue(R)}`,textAlign:"start",backgroundColor:"transparent",border:0,borderRadius:i,outline:0,transition:`all ${p} linear`,appearance:"textfield",fontSize:"inherit"}),Ar(e.colorTextPlaceholder)),{'&[type="number"]::-webkit-inner-spin-button, &[type="number"]::-webkit-outer-spin-button':{margin:0,webkitAppearance:"none",appearance:"none"}})},[`&:hover ${t}-handler-wrap, &-focused ${t}-handler-wrap`]:{width:e.handleWidth,opacity:1}})},{[t]:Object.assign(Object.assign(Object.assign({[`${t}-handler-wrap`]:{position:"absolute",insetBlockStart:0,insetInlineEnd:0,width:0,opacity:S,height:"100%",borderStartStartRadius:0,borderStartEndRadius:i,borderEndEndRadius:i,borderEndStartRadius:0,display:"flex",flexDirection:"column",alignItems:"stretch",transition:`all ${p}`,overflow:"hidden",[`${t}-handler`]:{display:"flex",alignItems:"center",justifyContent:"center",flex:"auto",height:"40%",[`
              ${t}-handler-up-inner,
              ${t}-handler-down-inner
            `]:{marginInlineEnd:0,fontSize:e.handleFontSize}}},[`${t}-handler`]:{height:"50%",overflow:"hidden",color:D,fontWeight:"bold",lineHeight:0,textAlign:"center",cursor:"pointer",borderInlineStart:`${ue(n)} ${r} ${j}`,transition:`all ${p} linear`,"&:active":{background:N},"&:hover":{height:"60%",[`
              ${t}-handler-up-inner,
              ${t}-handler-down-inner
            `]:{color:v}},"&-up-inner, &-down-inner":Object.assign(Object.assign({},sr()),{color:D,transition:`all ${p} linear`,userSelect:"none"})},[`${t}-handler-up`]:{borderStartEndRadius:i},[`${t}-handler-down`]:{borderEndEndRadius:i}},pn(e,"lg")),pn(e,"sm")),{"&-disabled, &-readonly":{[`${t}-handler-wrap`]:{display:"none"},[`${t}-input`]:{color:"inherit"}},[`
          ${t}-handler-up-disabled,
          ${t}-handler-down-disabled
        `]:{cursor:"not-allowed"},[`
          ${t}-handler-up-disabled:hover &-handler-up-inner,
          ${t}-handler-down-disabled:hover &-handler-down-inner
        `]:{color:$}})}]},ri=e=>{const{componentCls:t,paddingBlock:n,paddingInline:r,inputAffixPadding:i,controlWidth:a,borderRadiusLG:s,borderRadiusSM:l,paddingInlineLG:c,paddingInlineSM:u,paddingBlockLG:d,paddingBlockSM:f,motionDurationMid:h}=e;return{[`${t}-affix-wrapper`]:Object.assign(Object.assign({[`input${t}-input`]:{padding:`${ue(n)} 0`}},$n(e)),{position:"relative",display:"inline-flex",alignItems:"center",width:a,padding:0,paddingInlineStart:r,"&-lg":{borderRadius:s,paddingInlineStart:c,[`input${t}-input`]:{padding:`${ue(d)} 0`}},"&-sm":{borderRadius:l,paddingInlineStart:u,[`input${t}-input`]:{padding:`${ue(f)} 0`}},[`&:not(${t}-disabled):hover`]:{zIndex:1},"&-focused, &:focus":{zIndex:1},[`&-disabled > ${t}-disabled`]:{background:"transparent"},[`> div${t}`]:{width:"100%",border:"none",outline:"none",[`&${t}-focused`]:{boxShadow:"none !important"}},"&::before":{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'},[`${t}-handler-wrap`]:{zIndex:2},[t]:{position:"static",color:"inherit","&-prefix, &-suffix":{display:"flex",flex:"none",alignItems:"center",pointerEvents:"none"},"&-prefix":{marginInlineEnd:i},"&-suffix":{insetBlockStart:0,insetInlineEnd:0,height:"100%",marginInlineEnd:r,marginInlineStart:i,transition:`margin ${h}`}},[`&:hover ${t}-handler-wrap, &-focused ${t}-handler-wrap`]:{width:e.handleWidth,opacity:1},[`&:hover ${t}-suffix`]:{marginInlineEnd:e.calc(e.handleWidth).add(r).equal()}})}},ii=ar("InputNumber",e=>{const t=or(e,Rr(e));return[ni(t),ri(t),jr(t)]},ti,{unitless:{handleOpacity:!0}});var ai=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const On=o.forwardRef((e,t)=>{const{getPrefixCls:n,direction:r}=o.useContext(lr),i=o.useRef(null);o.useImperativeHandle(t,()=>i.current);const{className:a,rootClassName:s,size:l,disabled:c,prefixCls:u,addonBefore:d,addonAfter:f,prefix:h,suffix:g,bordered:D,readOnly:p,status:v,controls:S,variant:R}=e,w=ai(e,["className","rootClassName","size","disabled","prefixCls","addonBefore","addonAfter","prefix","suffix","bordered","readOnly","status","controls","variant"]),m=n("input-number",u),N=cr(m),[$,x,C]=ii(m,N),{compactSize:L,compactItemClassnames:j}=ur(m,r);let O=o.createElement(_r,{className:`${m}-handler-up-inner`}),P=o.createElement(Lr,{className:`${m}-handler-down-inner`});const _=typeof S=="boolean"?S:void 0;typeof S=="object"&&(O=typeof S.upIcon>"u"?O:o.createElement("span",{className:`${m}-handler-up-inner`},S.upIcon),P=typeof S.downIcon>"u"?P:o.createElement("span",{className:`${m}-handler-down-inner`},S.downIcon));const{hasFeedback:q,status:I,isFormItemInput:T,feedbackIcon:V}=o.useContext(dr),Y=zr(I,v),J=fr(k=>{var ee;return(ee=l??L)!==null&&ee!==void 0?ee:k}),se=o.useContext(gr),U=c??se,[F,H]=Br("inputNumber",R,D),re=q&&o.createElement(o.Fragment,null,V),le=De({[`${m}-lg`]:J==="large",[`${m}-sm`]:J==="small",[`${m}-rtl`]:r==="rtl",[`${m}-in-form-item`]:T},x),Z=`${m}-group`,Se=o.createElement(ei,Object.assign({ref:i,disabled:U,className:De(C,N,a,s,j),upHandler:O,downHandler:P,prefixCls:m,readOnly:p,controls:_,prefix:h,suffix:re||g,addonBefore:d&&o.createElement(ln,{form:!0,space:!0},d),addonAfter:f&&o.createElement(ln,{form:!0,space:!0},f),classNames:{input:le,variant:De({[`${m}-${F}`]:H},un(m,Y,q)),affixWrapper:De({[`${m}-affix-wrapper-sm`]:J==="small",[`${m}-affix-wrapper-lg`]:J==="large",[`${m}-affix-wrapper-rtl`]:r==="rtl"},x),wrapper:De({[`${Z}-rtl`]:r==="rtl"},x),groupWrapper:De({[`${m}-group-wrapper-sm`]:J==="small",[`${m}-group-wrapper-lg`]:J==="large",[`${m}-group-wrapper-rtl`]:r==="rtl",[`${m}-group-wrapper-${F}`]:H},un(`${m}-group-wrapper`,Y,q),x)}},w));return $(Se)}),pt=On,oi=e=>o.createElement(hr,{theme:{components:{InputNumber:{handleVisible:!0}}}},o.createElement(On,Object.assign({},e)));pt._InternalPanelDoNotUseOrYouWillBeFired=oi;function si(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return o.useMemo(()=>r=>{t.forEach(i=>i(r))},t)}const Et=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Be(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function Jt(e){return"nodeType"in e}function oe(e){var t,n;return e?Be(e)?e:Jt(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function Qt(e){const{Document:t}=oe(e);return e instanceof t}function rt(e){return Be(e)?!1:e instanceof oe(e).HTMLElement}function An(e){return e instanceof oe(e).SVGElement}function ze(e){return e?Be(e)?e.document:Jt(e)?Qt(e)?e:rt(e)||An(e)?e.ownerDocument:document:document:document}const pe=Et?o.useLayoutEffect:o.useEffect;function Zt(e){const t=o.useRef(e);return pe(()=>{t.current=e}),o.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current==null?void 0:t.current(...r)},[])}function li(){const e=o.useRef(null),t=o.useCallback((r,i)=>{e.current=setInterval(r,i)},[]),n=o.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function et(e,t){t===void 0&&(t=[e]);const n=o.useRef(e);return pe(()=>{n.current!==e&&(n.current=e)},t),n}function it(e,t){const n=o.useRef();return o.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function bt(e){const t=Zt(e),n=o.useRef(null),r=o.useCallback(i=>{i!==n.current&&(t==null||t(i,n.current)),n.current=i},[]);return[n,r]}function Ht(e){const t=o.useRef();return o.useEffect(()=>{t.current=e},[e]),t.current}let jt={};function at(e,t){return o.useMemo(()=>{if(t)return t;const n=jt[e]==null?0:jt[e]+1;return jt[e]=n,e+"-"+n},[e,t])}function Tn(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.reduce((a,s)=>{const l=Object.entries(s);for(const[c,u]of l){const d=a[c];d!=null&&(a[c]=d+e*u)}return a},{...t})}}const je=Tn(1),yt=Tn(-1);function ci(e){return"clientX"in e&&"clientY"in e}function en(e){if(!e)return!1;const{KeyboardEvent:t}=oe(e.target);return t&&e instanceof t}function ui(e){if(!e)return!1;const{TouchEvent:t}=oe(e.target);return t&&e instanceof t}function Ut(e){if(ui(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return ci(e)?{x:e.clientX,y:e.clientY}:null}const tt=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[tt.Translate.toString(e),tt.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),vn="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function di(e){return e.matches(vn)?e:e.querySelector(vn)}const fi={display:"none"};function gi(e){let{id:t,value:n}=e;return ne.createElement("div",{id:t,style:fi},n)}function hi(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;const i={position:"fixed",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return ne.createElement("div",{id:t,style:i,role:"status","aria-live":r,"aria-atomic":!0},n)}function pi(){const[e,t]=o.useState("");return{announce:o.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const kn=o.createContext(null);function vi(e){const t=o.useContext(kn);o.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function mi(){const[e]=o.useState(()=>new Set),t=o.useCallback(r=>(e.add(r),()=>e.delete(r)),[e]);return[o.useCallback(r=>{let{type:i,event:a}=r;e.forEach(s=>{var l;return(l=s[i])==null?void 0:l.call(s,a)})},[e]),t]}const bi={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},yi={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function Si(e){let{announcements:t=yi,container:n,hiddenTextDescribedById:r,screenReaderInstructions:i=bi}=e;const{announce:a,announcement:s}=pi(),l=at("DndLiveRegion"),[c,u]=o.useState(!1);if(o.useEffect(()=>{u(!0)},[]),vi(o.useMemo(()=>({onDragStart(f){let{active:h}=f;a(t.onDragStart({active:h}))},onDragMove(f){let{active:h,over:g}=f;t.onDragMove&&a(t.onDragMove({active:h,over:g}))},onDragOver(f){let{active:h,over:g}=f;a(t.onDragOver({active:h,over:g}))},onDragEnd(f){let{active:h,over:g}=f;a(t.onDragEnd({active:h,over:g}))},onDragCancel(f){let{active:h,over:g}=f;a(t.onDragCancel({active:h,over:g}))}}),[a,t])),!c)return null;const d=ne.createElement(ne.Fragment,null,ne.createElement(gi,{id:r,value:i.draggable}),ne.createElement(hi,{id:l,announcement:s}));return n?Le.createPortal(d,n):d}var X;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(X||(X={}));function St(){}function wi(e,t){return o.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function xi(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return o.useMemo(()=>[...t].filter(r=>r!=null),[...t])}const ve=Object.freeze({x:0,y:0});function Ei(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function Ci(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function Ri(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),i=Math.min(t.left+t.width,e.left+e.width),a=Math.min(t.top+t.height,e.top+e.height),s=i-r,l=a-n;if(r<i&&n<a){const c=t.width*t.height,u=e.width*e.height,d=s*l,f=d/(c+u-d);return Number(f.toFixed(4))}return 0}const Di=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const i=[];for(const a of r){const{id:s}=a,l=n.get(s);if(l){const c=Ri(l,t);c>0&&i.push({id:s,data:{droppableContainer:a,value:c}})}}return i.sort(Ei)};function Ni(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function Ln(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:ve}function Ii(e){return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return i.reduce((s,l)=>({...s,top:s.top+e*l.y,bottom:s.bottom+e*l.y,left:s.left+e*l.x,right:s.right+e*l.x}),{...n})}}const $i=Ii(1);function Mi(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function Oi(e,t,n){const r=Mi(t);if(!r)return e;const{scaleX:i,scaleY:a,x:s,y:l}=r,c=e.left-s-(1-i)*parseFloat(n),u=e.top-l-(1-a)*parseFloat(n.slice(n.indexOf(" ")+1)),d=i?e.width/i:e.width,f=a?e.height/a:e.height;return{width:d,height:f,top:u,right:c+d,bottom:u+f,left:c}}const Ai={ignoreTransform:!1};function Fe(e,t){t===void 0&&(t=Ai);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:u,transformOrigin:d}=oe(e).getComputedStyle(e);u&&(n=Oi(n,u,d))}const{top:r,left:i,width:a,height:s,bottom:l,right:c}=n;return{top:r,left:i,width:a,height:s,bottom:l,right:c}}function mn(e){return Fe(e,{ignoreTransform:!0})}function Ti(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function ki(e,t){return t===void 0&&(t=oe(e).getComputedStyle(e)),t.position==="fixed"}function Li(e,t){t===void 0&&(t=oe(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const a=t[i];return typeof a=="string"?n.test(a):!1})}function tn(e,t){const n=[];function r(i){if(t!=null&&n.length>=t||!i)return n;if(Qt(i)&&i.scrollingElement!=null&&!n.includes(i.scrollingElement))return n.push(i.scrollingElement),n;if(!rt(i)||An(i)||n.includes(i))return n;const a=oe(e).getComputedStyle(i);return i!==e&&Li(i,a)&&n.push(i),ki(i,a)?n:r(i.parentNode)}return e?r(e):n}function jn(e){const[t]=tn(e,1);return t??null}function Bt(e){return!Et||!e?null:Be(e)?e:Jt(e)?Qt(e)||e===ze(e).scrollingElement?window:rt(e)?e:null:null}function Bn(e){return Be(e)?e.scrollX:e.scrollLeft}function zn(e){return Be(e)?e.scrollY:e.scrollTop}function Gt(e){return{x:Bn(e),y:zn(e)}}var K;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(K||(K={}));function Fn(e){return!Et||!e?!1:e===document.scrollingElement}function Pn(e){const t={x:0,y:0},n=Fn(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},i=e.scrollTop<=t.y,a=e.scrollLeft<=t.x,s=e.scrollTop>=r.y,l=e.scrollLeft>=r.x;return{isTop:i,isLeft:a,isBottom:s,isRight:l,maxScroll:r,minScroll:t}}const ji={x:.2,y:.2};function Bi(e,t,n,r,i){let{top:a,left:s,right:l,bottom:c}=n;r===void 0&&(r=10),i===void 0&&(i=ji);const{isTop:u,isBottom:d,isLeft:f,isRight:h}=Pn(e),g={x:0,y:0},D={x:0,y:0},p={height:t.height*i.y,width:t.width*i.x};return!u&&a<=t.top+p.height?(g.y=K.Backward,D.y=r*Math.abs((t.top+p.height-a)/p.height)):!d&&c>=t.bottom-p.height&&(g.y=K.Forward,D.y=r*Math.abs((t.bottom-p.height-c)/p.height)),!h&&l>=t.right-p.width?(g.x=K.Forward,D.x=r*Math.abs((t.right-p.width-l)/p.width)):!f&&s<=t.left+p.width&&(g.x=K.Backward,D.x=r*Math.abs((t.left+p.width-s)/p.width)),{direction:g,speed:D}}function zi(e){if(e===document.scrollingElement){const{innerWidth:a,innerHeight:s}=window;return{top:0,left:0,right:a,bottom:s,width:a,height:s}}const{top:t,left:n,right:r,bottom:i}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:i,width:e.clientWidth,height:e.clientHeight}}function _n(e){return e.reduce((t,n)=>je(t,Gt(n)),ve)}function Fi(e){return e.reduce((t,n)=>t+Bn(n),0)}function Pi(e){return e.reduce((t,n)=>t+zn(n),0)}function _i(e,t){if(t===void 0&&(t=Fe),!e)return;const{top:n,left:r,bottom:i,right:a}=t(e);jn(e)&&(i<=0||a<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const Vi=[["x",["left","right"],Fi],["y",["top","bottom"],Pi]];class nn{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=tn(n),i=_n(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[a,s,l]of Vi)for(const c of s)Object.defineProperty(this,c,{get:()=>{const u=l(r),d=i[a]-u;return this.rect[c]+d},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Ye{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var i;(i=this.target)==null||i.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function Wi(e){const{EventTarget:t}=oe(e);return e instanceof t?e:ze(e)}function zt(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var de;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(de||(de={}));function bn(e){e.preventDefault()}function Hi(e){e.stopPropagation()}var z;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter"})(z||(z={}));const Vn={start:[z.Space,z.Enter],cancel:[z.Esc],end:[z.Space,z.Enter]},Ui=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case z.Right:return{...n,x:n.x+25};case z.Left:return{...n,x:n.x-25};case z.Down:return{...n,y:n.y+25};case z.Up:return{...n,y:n.y-25}}};class Wn{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new Ye(ze(n)),this.windowListeners=new Ye(oe(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(de.Resize,this.handleCancel),this.windowListeners.add(de.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(de.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&_i(r),n(ve)}handleKeyDown(t){if(en(t)){const{active:n,context:r,options:i}=this.props,{keyboardCodes:a=Vn,coordinateGetter:s=Ui,scrollBehavior:l="smooth"}=i,{code:c}=t;if(a.end.includes(c)){this.handleEnd(t);return}if(a.cancel.includes(c)){this.handleCancel(t);return}const{collisionRect:u}=r.current,d=u?{x:u.left,y:u.top}:ve;this.referenceCoordinates||(this.referenceCoordinates=d);const f=s(t,{active:n,context:r.current,currentCoordinates:d});if(f){const h=yt(f,d),g={x:0,y:0},{scrollableAncestors:D}=r.current;for(const p of D){const v=t.code,{isTop:S,isRight:R,isLeft:w,isBottom:m,maxScroll:N,minScroll:$}=Pn(p),x=zi(p),C={x:Math.min(v===z.Right?x.right-x.width/2:x.right,Math.max(v===z.Right?x.left:x.left+x.width/2,f.x)),y:Math.min(v===z.Down?x.bottom-x.height/2:x.bottom,Math.max(v===z.Down?x.top:x.top+x.height/2,f.y))},L=v===z.Right&&!R||v===z.Left&&!w,j=v===z.Down&&!m||v===z.Up&&!S;if(L&&C.x!==f.x){const O=p.scrollLeft+h.x,P=v===z.Right&&O<=N.x||v===z.Left&&O>=$.x;if(P&&!h.y){p.scrollTo({left:O,behavior:l});return}P?g.x=p.scrollLeft-O:g.x=v===z.Right?p.scrollLeft-N.x:p.scrollLeft-$.x,g.x&&p.scrollBy({left:-g.x,behavior:l});break}else if(j&&C.y!==f.y){const O=p.scrollTop+h.y,P=v===z.Down&&O<=N.y||v===z.Up&&O>=$.y;if(P&&!h.x){p.scrollTo({top:O,behavior:l});return}P?g.y=p.scrollTop-O:g.y=v===z.Down?p.scrollTop-N.y:p.scrollTop-$.y,g.y&&p.scrollBy({top:-g.y,behavior:l});break}}this.handleMove(t,je(yt(f,this.referenceCoordinates),g))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Wn.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=Vn,onActivation:i}=t,{active:a}=n;const{code:s}=e.nativeEvent;if(r.start.includes(s)){const l=a.activatorNode.current;return l&&e.target!==l?!1:(e.preventDefault(),i==null||i({event:e.nativeEvent}),!0)}return!1}}];function yn(e){return!!(e&&"distance"in e)}function Sn(e){return!!(e&&"delay"in e)}class rn{constructor(t,n,r){var i;r===void 0&&(r=Wi(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:a}=t,{target:s}=a;this.props=t,this.events=n,this.document=ze(s),this.documentListeners=new Ye(this.document),this.listeners=new Ye(r),this.windowListeners=new Ye(oe(s)),this.initialCoordinates=(i=Ut(a))!=null?i:ve,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),this.windowListeners.add(de.Resize,this.handleCancel),this.windowListeners.add(de.DragStart,bn),this.windowListeners.add(de.VisibilityChange,this.handleCancel),this.windowListeners.add(de.ContextMenu,bn),this.documentListeners.add(de.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Sn(n)){this.timeoutId=setTimeout(this.handleStart,n.delay);return}if(yn(n))return}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(de.Click,Hi,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(de.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:i,props:a}=this,{onMove:s,options:{activationConstraint:l}}=a;if(!i)return;const c=(n=Ut(t))!=null?n:ve,u=yt(i,c);if(!r&&l){if(yn(l)){if(l.tolerance!=null&&zt(u,l.tolerance))return this.handleCancel();if(zt(u,l.distance))return this.handleStart()}return Sn(l)&&zt(u,l.tolerance)?this.handleCancel():void 0}t.cancelable&&t.preventDefault(),s(c)}handleEnd(){const{onEnd:t}=this.props;this.detach(),t()}handleCancel(){const{onCancel:t}=this.props;this.detach(),t()}handleKeydown(t){t.code===z.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const Gi={move:{name:"pointermove"},end:{name:"pointerup"}};class an extends rn{constructor(t){const{event:n}=t,r=ze(n.target);super(t,Gi,r)}}an.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const Xi={move:{name:"mousemove"},end:{name:"mouseup"}};var Xt;(function(e){e[e.RightClick=2]="RightClick"})(Xt||(Xt={}));class qi extends rn{constructor(t){super(t,Xi,ze(t.event.target))}}qi.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===Xt.RightClick?!1:(r==null||r({event:n}),!0)}}];const Ft={move:{name:"touchmove"},end:{name:"touchend"}};class Ki extends rn{constructor(t){super(t,Ft)}static setup(){return window.addEventListener(Ft.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(Ft.move.name,t)};function t(){}}}Ki.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:i}=n;return i.length>1?!1:(r==null||r({event:n}),!0)}}];var Je;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(Je||(Je={}));var wt;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(wt||(wt={}));function Yi(e){let{acceleration:t,activator:n=Je.Pointer,canScroll:r,draggingRect:i,enabled:a,interval:s=5,order:l=wt.TreeOrder,pointerCoordinates:c,scrollableAncestors:u,scrollableAncestorRects:d,delta:f,threshold:h}=e;const g=Qi({delta:f,disabled:!a}),[D,p]=li(),v=o.useRef({x:0,y:0}),S=o.useRef({x:0,y:0}),R=o.useMemo(()=>{switch(n){case Je.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case Je.DraggableRect:return i}},[n,i,c]),w=o.useRef(null),m=o.useCallback(()=>{const $=w.current;if(!$)return;const x=v.current.x*S.current.x,C=v.current.y*S.current.y;$.scrollBy(x,C)},[]),N=o.useMemo(()=>l===wt.TreeOrder?[...u].reverse():u,[l,u]);o.useEffect(()=>{if(!a||!u.length||!R){p();return}for(const $ of N){if((r==null?void 0:r($))===!1)continue;const x=u.indexOf($),C=d[x];if(!C)continue;const{direction:L,speed:j}=Bi($,C,R,t,h);for(const O of["x","y"])g[O][L[O]]||(j[O]=0,L[O]=0);if(j.x>0||j.y>0){p(),w.current=$,D(m,s),v.current=j,S.current=L;return}}v.current={x:0,y:0},S.current={x:0,y:0},p()},[t,m,r,p,a,s,JSON.stringify(R),JSON.stringify(g),D,u,N,d,JSON.stringify(h)])}const Ji={x:{[K.Backward]:!1,[K.Forward]:!1},y:{[K.Backward]:!1,[K.Forward]:!1}};function Qi(e){let{delta:t,disabled:n}=e;const r=Ht(t);return it(i=>{if(n||!r||!i)return Ji;const a={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[K.Backward]:i.x[K.Backward]||a.x===-1,[K.Forward]:i.x[K.Forward]||a.x===1},y:{[K.Backward]:i.y[K.Backward]||a.y===-1,[K.Forward]:i.y[K.Forward]||a.y===1}}},[n,t,r])}function Zi(e,t){const n=t!==null?e.get(t):void 0,r=n?n.node.current:null;return it(i=>{var a;return t===null?null:(a=r??i)!=null?a:null},[r,t])}function ea(e,t){return o.useMemo(()=>e.reduce((n,r)=>{const{sensor:i}=r,a=i.activators.map(s=>({eventName:s.eventName,handler:t(s.handler,r)}));return[...n,...a]},[]),[e,t])}var nt;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(nt||(nt={}));var qt;(function(e){e.Optimized="optimized"})(qt||(qt={}));const wn=new Map;function ta(e,t){let{dragging:n,dependencies:r,config:i}=t;const[a,s]=o.useState(null),{frequency:l,measure:c,strategy:u}=i,d=o.useRef(e),f=v(),h=et(f),g=o.useCallback(function(S){S===void 0&&(S=[]),!h.current&&s(R=>R===null?S:R.concat(S.filter(w=>!R.includes(w))))},[h]),D=o.useRef(null),p=it(S=>{if(f&&!n)return wn;if(!S||S===wn||d.current!==e||a!=null){const R=new Map;for(let w of e){if(!w)continue;if(a&&a.length>0&&!a.includes(w.id)&&w.rect.current){R.set(w.id,w.rect.current);continue}const m=w.node.current,N=m?new nn(c(m),m):null;w.rect.current=N,N&&R.set(w.id,N)}return R}return S},[e,a,n,f,c]);return o.useEffect(()=>{d.current=e},[e]),o.useEffect(()=>{f||g()},[n,f]),o.useEffect(()=>{a&&a.length>0&&s(null)},[JSON.stringify(a)]),o.useEffect(()=>{f||typeof l!="number"||D.current!==null||(D.current=setTimeout(()=>{g(),D.current=null},l))},[l,f,g,...r]),{droppableRects:p,measureDroppableContainers:g,measuringScheduled:a!=null};function v(){switch(u){case nt.Always:return!1;case nt.BeforeDragging:return n;default:return!n}}}function Hn(e,t){return it(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function na(e,t){return Hn(e,t)}function ra(e){let{callback:t,disabled:n}=e;const r=Zt(t),i=o.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:a}=window;return new a(r)},[r,n]);return o.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function Ct(e){let{callback:t,disabled:n}=e;const r=Zt(t),i=o.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:a}=window;return new a(r)},[n]);return o.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function ia(e){return new nn(Fe(e),e)}function xn(e,t,n){t===void 0&&(t=ia);const[r,i]=o.useReducer(l,null),a=ra({callback(c){if(e)for(const u of c){const{type:d,target:f}=u;if(d==="childList"&&f instanceof HTMLElement&&f.contains(e)){i();break}}}}),s=Ct({callback:i});return pe(()=>{i(),e?(s==null||s.observe(e),a==null||a.observe(document.body,{childList:!0,subtree:!0})):(s==null||s.disconnect(),a==null||a.disconnect())},[e]),r;function l(c){if(!e)return null;if(e.isConnected===!1){var u;return(u=c??n)!=null?u:null}const d=t(e);return JSON.stringify(c)===JSON.stringify(d)?c:d}}function aa(e){const t=Hn(e);return Ln(e,t)}const En=[];function oa(e){const t=o.useRef(e),n=it(r=>e?r&&r!==En&&e&&t.current&&e.parentNode===t.current.parentNode?r:tn(e):En,[e]);return o.useEffect(()=>{t.current=e},[e]),n}function sa(e){const[t,n]=o.useState(null),r=o.useRef(e),i=o.useCallback(a=>{const s=Bt(a.target);s&&n(l=>l?(l.set(s,Gt(s)),new Map(l)):null)},[]);return o.useEffect(()=>{const a=r.current;if(e!==a){s(a);const l=e.map(c=>{const u=Bt(c);return u?(u.addEventListener("scroll",i,{passive:!0}),[u,Gt(u)]):null}).filter(c=>c!=null);n(l.length?new Map(l):null),r.current=e}return()=>{s(e),s(a)};function s(l){l.forEach(c=>{const u=Bt(c);u==null||u.removeEventListener("scroll",i)})}},[i,e]),o.useMemo(()=>e.length?t?Array.from(t.values()).reduce((a,s)=>je(a,s),ve):_n(e):ve,[e,t])}function Cn(e,t){t===void 0&&(t=[]);const n=o.useRef(null);return o.useEffect(()=>{n.current=null},t),o.useEffect(()=>{const r=e!==ve;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?yt(e,n.current):ve}function la(e){o.useEffect(()=>{if(!Et)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function ca(e,t){return o.useMemo(()=>e.reduce((n,r)=>{let{eventName:i,handler:a}=r;return n[i]=s=>{a(s,t)},n},{}),[e,t])}function Un(e){return o.useMemo(()=>e?Ti(e):null,[e])}const Pt=[];function ua(e,t){t===void 0&&(t=Fe);const[n]=e,r=Un(n?oe(n):null),[i,a]=o.useReducer(l,Pt),s=Ct({callback:a});return e.length>0&&i===Pt&&a(),pe(()=>{e.length?e.forEach(c=>s==null?void 0:s.observe(c)):(s==null||s.disconnect(),a())},[e]),i;function l(){return e.length?e.map(c=>Fn(c)?r:new nn(t(c),c)):Pt}}function da(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return rt(t)?t:e}function fa(e){let{measure:t}=e;const[n,r]=o.useState(null),i=o.useCallback(u=>{for(const{target:d}of u)if(rt(d)){r(f=>{const h=t(d);return f?{...f,width:h.width,height:h.height}:h});break}},[t]),a=Ct({callback:i}),s=o.useCallback(u=>{const d=da(u);a==null||a.disconnect(),d&&(a==null||a.observe(d)),r(d?t(d):null)},[t,a]),[l,c]=bt(s);return o.useMemo(()=>({nodeRef:l,rect:n,setRef:c}),[n,l,c])}const ga=[{sensor:an,options:{}},{sensor:Wn,options:{}}],ha={current:{}},vt={draggable:{measure:mn},droppable:{measure:mn,strategy:nt.WhileDragging,frequency:qt.Optimized},dragOverlay:{measure:Fe}};class Qe extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const pa={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Qe,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:St},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:vt,measureDroppableContainers:St,windowRect:null,measuringScheduled:!1},va={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:St,draggableNodes:new Map,over:null,measureDroppableContainers:St},Rt=o.createContext(va),Gn=o.createContext(pa);function ma(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Qe}}}function ba(e,t){switch(t.type){case X.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case X.DragMove:return e.draggable.active?{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}}:e;case X.DragEnd:case X.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case X.RegisterDroppable:{const{element:n}=t,{id:r}=n,i=new Qe(e.droppable.containers);return i.set(r,n),{...e,droppable:{...e.droppable,containers:i}}}case X.SetDroppableDisabled:{const{id:n,key:r,disabled:i}=t,a=e.droppable.containers.get(n);if(!a||r!==a.key)return e;const s=new Qe(e.droppable.containers);return s.set(n,{...a,disabled:i}),{...e,droppable:{...e.droppable,containers:s}}}case X.UnregisterDroppable:{const{id:n,key:r}=t,i=e.droppable.containers.get(n);if(!i||r!==i.key)return e;const a=new Qe(e.droppable.containers);return a.delete(n),{...e,droppable:{...e.droppable,containers:a}}}default:return e}}function ya(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:i}=o.useContext(Rt),a=Ht(r),s=Ht(n==null?void 0:n.id);return o.useEffect(()=>{if(!t&&!r&&a&&s!=null){if(!en(a)||document.activeElement===a.target)return;const l=i.get(s);if(!l)return;const{activatorNode:c,node:u}=l;if(!c.current&&!u.current)return;requestAnimationFrame(()=>{for(const d of[c.current,u.current]){if(!d)continue;const f=di(d);if(f){f.focus();break}}})}},[r,t,i,s,a]),null}function Sa(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((i,a)=>a({transform:i,...r}),n):n}function wa(e){return o.useMemo(()=>({draggable:{...vt.draggable,...e==null?void 0:e.draggable},droppable:{...vt.droppable,...e==null?void 0:e.droppable},dragOverlay:{...vt.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function xa(e){let{activeNode:t,measure:n,initialRect:r,config:i=!0}=e;const a=o.useRef(!1),{x:s,y:l}=typeof i=="boolean"?{x:i,y:i}:i;pe(()=>{if(!s&&!l||!t){a.current=!1;return}if(a.current||!r)return;const u=t==null?void 0:t.node.current;if(!u||u.isConnected===!1)return;const d=n(u),f=Ln(d,r);if(s||(f.x=0),l||(f.y=0),a.current=!0,Math.abs(f.x)>0||Math.abs(f.y)>0){const h=jn(u);h&&h.scrollBy({top:f.y,left:f.x})}},[t,s,l,r,n])}const Xn=o.createContext({...ve,scaleX:1,scaleY:1});var Me;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Me||(Me={}));const Ea=o.memo(function(t){var n,r,i,a;let{id:s,accessibility:l,autoScroll:c=!0,children:u,sensors:d=ga,collisionDetection:f=Di,measuring:h,modifiers:g,...D}=t;const p=o.useReducer(ba,void 0,ma),[v,S]=p,[R,w]=mi(),[m,N]=o.useState(Me.Uninitialized),$=m===Me.Initialized,{draggable:{active:x,nodes:C,translate:L},droppable:{containers:j}}=v,O=x?C.get(x):null,P=o.useRef({initial:null,translated:null}),_=o.useMemo(()=>{var G;return x!=null?{id:x,data:(G=O==null?void 0:O.data)!=null?G:ha,rect:P}:null},[x,O]),q=o.useRef(null),[I,T]=o.useState(null),[V,Y]=o.useState(null),J=et(D,Object.values(D)),se=at("DndDescribedBy",s),U=o.useMemo(()=>j.getEnabled(),[j]),F=wa(h),{droppableRects:H,measureDroppableContainers:re,measuringScheduled:le}=ta(U,{dragging:$,dependencies:[L.x,L.y],config:F.droppable}),Z=Zi(C,x),Se=o.useMemo(()=>V?Ut(V):null,[V]),k=Ot(),ee=na(Z,F.draggable.measure);xa({activeNode:x?C.get(x):null,config:k.layoutShiftCompensation,initialRect:ee,measure:F.draggable.measure});const B=xn(Z,F.draggable.measure,ee),we=xn(Z?Z.parentElement:null),ae=o.useRef({activatorEvent:null,active:null,activeNode:Z,collisionRect:null,collisions:null,droppableRects:H,draggableNodes:C,draggingNode:null,draggingNodeRect:null,droppableContainers:j,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),me=j.getNodeFor((n=ae.current.over)==null?void 0:n.id),ce=fa({measure:F.dragOverlay.measure}),Ne=(r=ce.nodeRef.current)!=null?r:Z,xe=$?(i=ce.rect)!=null?i:B:null,Ie=!!(ce.nodeRef.current&&ce.rect),Pe=aa(Ie?null:B),Ee=Un(Ne?oe(Ne):null),ie=oa($?me??Z:null),fe=ua(ie),Oe=Sa(g,{transform:{x:L.x-Pe.x,y:L.y-Pe.y,scaleX:1,scaleY:1},activatorEvent:V,active:_,activeNodeRect:B,containerNodeRect:we,draggingNodeRect:xe,over:ae.current.over,overlayNodeRect:ce.rect,scrollableAncestors:ie,scrollableAncestorRects:fe,windowRect:Ee}),_e=Se?je(Se,L):null,ot=sa(ie),st=Cn(ot),Dt=Cn(ot,[B]),$e=je(Oe,st),Ce=xe?$i(xe,Oe):null,Re=_&&Ce?f({active:_,collisionRect:Ce,droppableRects:H,droppableContainers:U,pointerCoordinates:_e}):null,Ae=Ci(Re,"id"),[be,Ve]=o.useState(null),Nt=Ie?Oe:je(Oe,Dt),It=Ni(Nt,(a=be==null?void 0:be.rect)!=null?a:null,B),lt=o.useCallback((G,y)=>{let{sensor:b,options:M}=y;if(q.current==null)return;const E=C.get(q.current);if(!E)return;const W=G.nativeEvent,te=new b({active:q.current,activeNode:E,event:W,options:M,context:ae,onStart(ge){const Ue=q.current;if(Ue==null)return;const Ge=C.get(Ue);if(!Ge)return;const{onDragStart:ct}=J.current,ut={active:{id:Ue,data:Ge.data,rect:P}};Le.unstable_batchedUpdates(()=>{ct==null||ct(ut),N(Me.Initializing),S({type:X.DragStart,initialCoordinates:ge,active:Ue}),R({type:"onDragStart",event:ut})})},onMove(ge){S({type:X.DragMove,coordinates:ge})},onEnd:ye(X.DragEnd),onCancel:ye(X.DragCancel)});Le.unstable_batchedUpdates(()=>{T(te),Y(G.nativeEvent)});function ye(ge){return async function(){const{active:Ge,collisions:ct,over:ut,scrollAdjustedTranslate:sn}=ae.current;let Xe=null;if(Ge&&sn){const{cancelDrop:qe}=J.current;Xe={activatorEvent:W,active:Ge,collisions:ct,delta:sn,over:ut},ge===X.DragEnd&&typeof qe=="function"&&await Promise.resolve(qe(Xe))&&(ge=X.DragCancel)}q.current=null,Le.unstable_batchedUpdates(()=>{S({type:ge}),N(Me.Uninitialized),Ve(null),T(null),Y(null);const qe=ge===X.DragEnd?"onDragEnd":"onDragCancel";if(Xe){const At=J.current[qe];At==null||At(Xe),R({type:qe,event:Xe})}})}}},[C]),We=o.useCallback((G,y)=>(b,M)=>{const E=b.nativeEvent,W=C.get(M);if(q.current!==null||!W||E.dndKit||E.defaultPrevented)return;const te={active:W};G(b,y.options,te)===!0&&(E.dndKit={capturedBy:y.sensor},q.current=M,lt(b,y))},[C,lt]),He=ea(d,We);la(d),pe(()=>{B&&m===Me.Initializing&&N(Me.Initialized)},[B,m]),o.useEffect(()=>{const{onDragMove:G}=J.current,{active:y,activatorEvent:b,collisions:M,over:E}=ae.current;if(!y||!b)return;const W={active:y,activatorEvent:b,collisions:M,delta:{x:$e.x,y:$e.y},over:E};Le.unstable_batchedUpdates(()=>{G==null||G(W),R({type:"onDragMove",event:W})})},[$e.x,$e.y]),o.useEffect(()=>{const{active:G,activatorEvent:y,collisions:b,droppableContainers:M,scrollAdjustedTranslate:E}=ae.current;if(!G||q.current==null||!y||!E)return;const{onDragOver:W}=J.current,te=M.get(Ae),ye=te&&te.rect.current?{id:te.id,rect:te.rect.current,data:te.data,disabled:te.disabled}:null,ge={active:G,activatorEvent:y,collisions:b,delta:{x:E.x,y:E.y},over:ye};Le.unstable_batchedUpdates(()=>{Ve(ye),W==null||W(ge),R({type:"onDragOver",event:ge})})},[Ae]),pe(()=>{ae.current={activatorEvent:V,active:_,activeNode:Z,collisionRect:Ce,collisions:Re,droppableRects:H,draggableNodes:C,draggingNode:Ne,draggingNodeRect:xe,droppableContainers:j,over:be,scrollableAncestors:ie,scrollAdjustedTranslate:$e},P.current={initial:xe,translated:Ce}},[_,Z,Re,Ce,C,Ne,xe,H,j,be,ie,$e]),Yi({...k,delta:L,draggingRect:Ce,pointerCoordinates:_e,scrollableAncestors:ie,scrollableAncestorRects:fe});const $t=o.useMemo(()=>({active:_,activeNode:Z,activeNodeRect:B,activatorEvent:V,collisions:Re,containerNodeRect:we,dragOverlay:ce,draggableNodes:C,droppableContainers:j,droppableRects:H,over:be,measureDroppableContainers:re,scrollableAncestors:ie,scrollableAncestorRects:fe,measuringConfiguration:F,measuringScheduled:le,windowRect:Ee}),[_,Z,B,V,Re,we,ce,C,j,H,be,re,ie,fe,F,le,Ee]),Mt=o.useMemo(()=>({activatorEvent:V,activators:He,active:_,activeNodeRect:B,ariaDescribedById:{draggable:se},dispatch:S,draggableNodes:C,over:be,measureDroppableContainers:re}),[V,He,_,B,S,se,C,be,re]);return ne.createElement(kn.Provider,{value:w},ne.createElement(Rt.Provider,{value:Mt},ne.createElement(Gn.Provider,{value:$t},ne.createElement(Xn.Provider,{value:It},u)),ne.createElement(ya,{disabled:(l==null?void 0:l.restoreFocus)===!1})),ne.createElement(Si,{...l,hiddenTextDescribedById:se}));function Ot(){const G=(I==null?void 0:I.autoScrollEnabled)===!1,y=typeof c=="object"?c.enabled===!1:c===!1,b=$&&!G&&!y;return typeof c=="object"?{...c,enabled:b}:{enabled:b}}}),Ca=o.createContext(null),Rn="button",Ra="Droppable";function Da(e){let{id:t,data:n,disabled:r=!1,attributes:i}=e;const a=at(Ra),{activators:s,activatorEvent:l,active:c,activeNodeRect:u,ariaDescribedById:d,draggableNodes:f,over:h}=o.useContext(Rt),{role:g=Rn,roleDescription:D="draggable",tabIndex:p=0}=i??{},v=(c==null?void 0:c.id)===t,S=o.useContext(v?Xn:Ca),[R,w]=bt(),[m,N]=bt(),$=ca(s,t),x=et(n);pe(()=>(f.set(t,{id:t,key:a,node:R,activatorNode:m,data:x}),()=>{const L=f.get(t);L&&L.key===a&&f.delete(t)}),[f,t]);const C=o.useMemo(()=>({role:g,tabIndex:p,"aria-disabled":r,"aria-pressed":v&&g===Rn?!0:void 0,"aria-roledescription":D,"aria-describedby":d.draggable}),[r,g,p,v,D,d.draggable]);return{active:c,activatorEvent:l,activeNodeRect:u,attributes:C,isDragging:v,listeners:r?void 0:$,node:R,over:h,setNodeRef:w,setActivatorNodeRef:N,transform:S}}function Na(){return o.useContext(Gn)}const Ia="Droppable",$a={timeout:25};function Ma(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:i}=e;const a=at(Ia),{active:s,dispatch:l,over:c,measureDroppableContainers:u}=o.useContext(Rt),d=o.useRef({disabled:n}),f=o.useRef(!1),h=o.useRef(null),g=o.useRef(null),{disabled:D,updateMeasurementsFor:p,timeout:v}={...$a,...i},S=et(p??r),R=o.useCallback(()=>{if(!f.current){f.current=!0;return}g.current!=null&&clearTimeout(g.current),g.current=setTimeout(()=>{u(Array.isArray(S.current)?S.current:[S.current]),g.current=null},v)},[v]),w=Ct({callback:R,disabled:D||!s}),m=o.useCallback((C,L)=>{w&&(L&&(w.unobserve(L),f.current=!1),C&&w.observe(C))},[w]),[N,$]=bt(m),x=et(t);return o.useEffect(()=>{!w||!N.current||(w.disconnect(),f.current=!1,w.observe(N.current))},[N,w]),pe(()=>(l({type:X.RegisterDroppable,element:{id:r,key:a,disabled:n,node:N,rect:h,data:x}}),()=>l({type:X.UnregisterDroppable,key:a,id:r})),[r]),o.useEffect(()=>{n!==d.current.disabled&&(l({type:X.SetDroppableDisabled,id:r,key:a,disabled:n}),d.current.disabled=n)},[r,a,n,l]),{active:s,rect:h,isOver:(c==null?void 0:c.id)===r,node:N,over:c,setNodeRef:$}}const Oa=e=>{let{transform:t}=e;return{...t,x:0}};function on(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function Aa(e,t){return e.reduce((n,r,i)=>{const a=t.get(r);return a&&(n[i]=a),n},Array(e.length))}function ft(e){return e!==null&&e>=0}function Ta(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function ka(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const qn=e=>{let{rects:t,activeIndex:n,overIndex:r,index:i}=e;const a=on(t,r,n),s=t[i],l=a[i];return!l||!s?null:{x:l.left-s.left,y:l.top-s.top,scaleX:l.width/s.width,scaleY:l.height/s.height}},gt={scaleX:1,scaleY:1},La=e=>{var t;let{activeIndex:n,activeNodeRect:r,index:i,rects:a,overIndex:s}=e;const l=(t=a[n])!=null?t:r;if(!l)return null;if(i===n){const u=a[s];return u?{x:0,y:n<s?u.top+u.height-(l.top+l.height):u.top-l.top,...gt}:null}const c=ja(a,i,n);return i>n&&i<=s?{x:0,y:-l.height-c,...gt}:i<n&&i>=s?{x:0,y:l.height+c,...gt}:{x:0,y:0,...gt}};function ja(e,t,n){const r=e[t],i=e[t-1],a=e[t+1];return r?n<t?i?r.top-(i.top+i.height):a?a.top-(r.top+r.height):0:a?a.top-(r.top+r.height):i?r.top-(i.top+i.height):0:0}const Kn="Sortable",Yn=ne.createContext({activeIndex:-1,containerId:Kn,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:qn,disabled:{draggable:!1,droppable:!1}});function Ba(e){let{children:t,id:n,items:r,strategy:i=qn,disabled:a=!1}=e;const{active:s,dragOverlay:l,droppableRects:c,over:u,measureDroppableContainers:d}=Na(),f=at(Kn,n),h=l.rect!==null,g=o.useMemo(()=>r.map($=>typeof $=="object"&&"id"in $?$.id:$),[r]),D=s!=null,p=s?g.indexOf(s.id):-1,v=u?g.indexOf(u.id):-1,S=o.useRef(g),R=!Ta(g,S.current),w=v!==-1&&p===-1||R,m=ka(a);pe(()=>{R&&D&&d(g)},[R,g,D,d]),o.useEffect(()=>{S.current=g},[g]);const N=o.useMemo(()=>({activeIndex:p,containerId:f,disabled:m,disableTransforms:w,items:g,overIndex:v,useDragOverlay:h,sortedRects:Aa(g,c),strategy:i}),[p,f,m.draggable,m.droppable,w,g,v,c,h,i]);return ne.createElement(Yn.Provider,{value:N},t)}const za=e=>{let{id:t,items:n,activeIndex:r,overIndex:i}=e;return on(n,r,i).indexOf(t)},Fa=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:i,items:a,newIndex:s,previousItems:l,previousContainerId:c,transition:u}=e;return!u||!r||l!==a&&i===s?!1:n?!0:s!==i&&t===c},Pa={duration:200,easing:"ease"},Jn="transform",_a=tt.Transition.toString({property:Jn,duration:0,easing:"linear"}),Va={roleDescription:"sortable"};function Wa(e){let{disabled:t,index:n,node:r,rect:i}=e;const[a,s]=o.useState(null),l=o.useRef(n);return pe(()=>{if(!t&&n!==l.current&&r.current){const c=i.current;if(c){const u=Fe(r.current,{ignoreTransform:!0}),d={x:c.left-u.left,y:c.top-u.top,scaleX:c.width/u.width,scaleY:c.height/u.height};(d.x||d.y)&&s(d)}}n!==l.current&&(l.current=n)},[t,n,r,i]),o.useEffect(()=>{a&&s(null)},[a]),a}function Ha(e){let{animateLayoutChanges:t=Fa,attributes:n,disabled:r,data:i,getNewIndex:a=za,id:s,strategy:l,resizeObserverConfig:c,transition:u=Pa}=e;const{items:d,containerId:f,activeIndex:h,disabled:g,disableTransforms:D,sortedRects:p,overIndex:v,useDragOverlay:S,strategy:R}=o.useContext(Yn),w=Ua(r,g),m=d.indexOf(s),N=o.useMemo(()=>({sortable:{containerId:f,index:m,items:d},...i}),[f,i,m,d]),$=o.useMemo(()=>d.slice(d.indexOf(s)),[d,s]),{rect:x,node:C,isOver:L,setNodeRef:j}=Ma({id:s,data:N,disabled:w.droppable,resizeObserverConfig:{updateMeasurementsFor:$,...c}}),{active:O,activatorEvent:P,activeNodeRect:_,attributes:q,setNodeRef:I,listeners:T,isDragging:V,over:Y,setActivatorNodeRef:J,transform:se}=Da({id:s,data:N,attributes:{...Va,...n},disabled:w.draggable}),U=si(j,I),F=!!O,H=F&&!D&&ft(h)&&ft(v),re=!S&&V,le=re&&H?se:null,Se=H?le??(l??R)({rects:p,activeNodeRect:_,activeIndex:h,overIndex:v,index:m}):null,k=ft(h)&&ft(v)?a({id:s,items:d,activeIndex:h,overIndex:v}):m,ee=O==null?void 0:O.id,B=o.useRef({activeId:ee,items:d,newIndex:k,containerId:f}),we=d!==B.current.items,ae=t({active:O,containerId:f,isDragging:V,isSorting:F,id:s,index:m,items:d,newIndex:B.current.newIndex,previousItems:B.current.items,previousContainerId:B.current.containerId,transition:u,wasDragging:B.current.activeId!=null}),me=Wa({disabled:!ae,index:m,node:C,rect:x});return o.useEffect(()=>{F&&B.current.newIndex!==k&&(B.current.newIndex=k),f!==B.current.containerId&&(B.current.containerId=f),d!==B.current.items&&(B.current.items=d)},[F,k,f,d]),o.useEffect(()=>{if(ee===B.current.activeId)return;if(ee&&!B.current.activeId){B.current.activeId=ee;return}const Ne=setTimeout(()=>{B.current.activeId=ee},50);return()=>clearTimeout(Ne)},[ee]),{active:O,activeIndex:h,attributes:q,data:N,rect:x,index:m,newIndex:k,items:d,isOver:L,isSorting:F,isDragging:V,listeners:T,node:C,overIndex:v,over:Y,setNodeRef:U,setActivatorNodeRef:J,setDroppableNodeRef:j,setDraggableNodeRef:I,transform:me??Se,transition:ce()};function ce(){if(me||we&&B.current.newIndex===m)return _a;if(!(re&&!en(P)||!u)&&(F||ae))return tt.Transition.toString({...u,property:Jn})}}function Ua(e,t){var n,r;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e==null?void 0:e.draggable)!=null?n:t.draggable,droppable:(r=e==null?void 0:e.droppable)!=null?r:t.droppable}}z.Down,z.Right,z.Up,z.Left;const Ga=({columns:e,data:t,isLoading:n})=>{const r=t==null?void 0:t.map((i,a)=>({...i,key:a+1}));return A.jsx("div",{children:n?A.jsx(_t,{rowKey:"key",pagination:!1,dataSource:[...Array(9)].map((i,a)=>({key:`key${a}`})),columns:e.map(i=>({...i,render:function(){return A.jsx(Tr,{title:!0,active:!0,paragraph:!1},i.key)}}))}):A.jsx(_t,{rowKey:"key",dataSource:r,columns:e})})},Xa=ne.memo(({...e})=>{const{attributes:t,listeners:n,setNodeRef:r,transform:i,transition:a,isDragging:s}=Ha({id:e["data-row-key"]}),l=o.useMemo(()=>({...e.style,transform:tt.Translate.toString(i),transition:a,cursor:"move",...s?{position:"relative",zIndex:9999}:{}}),[e.style,i,a,s]);return A.jsx("tr",{...e,ref:r,style:l,...t,...n})}),qa=ne.memo(({editing:e,dataIndex:t,title:n,type:r,optionSelect:i,children:a,...s})=>{const l=o.useMemo(()=>{switch(r){case"number":return A.jsx(pt,{className:"w-full",placeholder:n});case"price":return A.jsx(pt,{className:"w-full",min:0,step:5e4,formatter:c=>`${c}`.replace(/\B(?=(\d{3})+(?!\d))/g,","),parser:c=>c==null?void 0:c.replace(/\$\s?|(,*)/g,""),placeholder:n});case"percent":return A.jsx(pt,{className:"w-full",min:0,max:100,placeholder:n});case"select-multi":return A.jsx(Lt,{allowClear:!0,mode:"multiple",placeholder:n,options:i});case"select":return A.jsx(Lt,{placeholder:n,options:i});case"tag":return A.jsx(Lt,{mode:"tags",placeholder:n});default:return A.jsx(kr,{placeholder:n})}},[r,n,i]);return A.jsx("td",{...s,children:e?A.jsx(Vt.Item,{name:t,style:{margin:0},children:l}):a})}),io=({Api:e,ApiPut:t,total:n,dragMode:r=!0,loading:i,data:a,columns:s,onSave:l,onDelete:c,button:u,colEdit:d=!0,isScroll:f=!0,scroll:h,width:g})=>{const D=pr(),[p]=Vt.useForm(),[v,S]=o.useState(""),[R,w]=o.useState(localStorage.getItem("pageSize")||10),[m,N]=o.useState(1),$=o.useCallback(I=>I.key===v,[v]),x=o.useCallback(I=>{p.setFieldsValue(I),S(I.key)},[p]),C=o.useCallback(()=>S(""),[]),L=o.useCallback(async()=>{try{const I=await p.validateFields();l({...I,id:v}),S("")}catch(I){vr(I,"Lưu thay đổi thất bại !","Vui lòng kiểm tra lại thông tin !")}},[p,l,v]),j=xi(wi(an,{activationConstraint:{distance:1}})),O=o.useCallback(({active:I,over:T})=>{if(I.id!==(T==null?void 0:T.id)){const V=on(a,a.findIndex(U=>U.key===I.id),a.findIndex(U=>U.key===(T==null?void 0:T.id))),Y=Math.max(...a.map(U=>U.order)),se=V.map((U,F)=>({...U,order:Y-F})).map(({_id:U,order:F})=>({_id:U,order:F}));D(t(se)),mr("drag","Thay đổi vị trí thành công !","Dữ liệu đã được cập nhật !")}},[a]),P=o.useMemo(()=>s.map(I=>I.editable?{...I,onCell:T=>({record:T,type:I.type||"text",optionSelect:I.type==="select"||I.type==="select-multi"?I.optionSelect:void 0,dataIndex:I.dataIndex,title:I.title,editing:$(T),required:I.required||!0})}:I),[s,$]),_=o.useCallback((I,T)=>{C(),D(e({page:I,limit:T})),N(I)},[D,e,C]),q=o.useCallback((I,T)=>{D(e({page:1,limit:T})),w(T),localStorage.setItem("pageSize",T)},[D,e]);return A.jsx(Vt,{form:p,component:!1,children:i?A.jsx(Ga,{columns:s,data:a,isLoading:i}):A.jsx(Ea,{sensors:j,modifiers:[Oa],onDragEnd:O,children:A.jsx(Ba,{items:a.map(I=>I.key),strategy:La,children:A.jsx(_t,{components:{body:{cell:qa,row:r?Xa:void 0}},bordered:!0,onChange:(I,T,V,Y)=>{Y.action==="paginate"&&_(I.current,I.pageSize)},dataSource:a,columns:[...P,...(a==null?void 0:a.length)>=1&&d!==!1?[{title:"Sửa",dataIndex:"operation",width:g||"7%",fixed:"right",render:(I,T)=>$(T)?A.jsxs("span",{className:"flex justify-center gap-3",style:{cursor:"pointer"},children:[A.jsx(dt.Text,{type:"danger",onClick:C,children:A.jsx(br,{size:22})}),A.jsx(dn,{placement:"bottomRight",title:"Bạn có chắc muốn lưu thay đổi",onConfirm:L,children:A.jsx(dt.Text,{type:"success",children:A.jsx(yr,{size:22})})})]}):A.jsxs("div",{className:"flex justify-center items-center gap-3",style:{cursor:"pointer"},children:[u&&typeof u=="function"?u(T):null,A.jsx(cn,{title:"Chỉnh thông tin",children:A.jsx(dt.Link,{disabled:v!=="",onClick:()=>x(T),children:A.jsx(Sr,{size:22})})}),A.jsx(dn,{disabled:v!=="",placement:"bottomRight",title:"Bạn có chắc muốn xóa !",onConfirm:()=>c(T._id),children:A.jsx(cn,{title:"Xóa thông tin",children:A.jsx(dt.Text,{type:"danger",disabled:v!=="",children:A.jsx(wr,{size:22})})})})]})}]:[]],rowClassName:"editable-row",pagination:{onShowSizeChange:q,showTotal:(I,T)=>`Hiển thị ${T[0]}-${T[1]} trong ${I} mục`,current:m,pageSize:Number(R),total:n,showSizeChanger:!0,pageSizeOptions:[10,20,50,100,200]},scroll:f?h||{x:1200,y:"calc(100vh - 255px)"}:void 0,footer:()=>A.jsx("div",{className:"h-5"})})})})})};export{io as E,pt as T};
